<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.20" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme='dark'] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background-color: var(--vp-c-bg);
      }
    </style>
    <script>
      const useChoice = localStorage.getItem('vuepress-color-scheme')
      const systemStatus =
        'matchMedia' in window
          ? window.matchMedia('(prefers-color-scheme: dark)').matches
          : false

      if (useChoice === 'light') {
        document.documentElement.dataset.theme = 'light'
      } else if (useChoice === 'dark' || systemStatus) {
        document.documentElement.dataset.theme = 'dark'
      }
    </script>
    <title>06 Assistants Api   Index | çŸ¥è¯†åº“</title><meta name="description" content="æ¶µç›–Javaã€Springã€Vueã€Node.jsç­‰æŠ€æœ¯çŸ¥è¯†">
    <link rel="stylesheet" href="/wiki/assets/css/styles.dd0ba6d4.css">
    <link rel="preload" href="/wiki/assets/js/runtime~app.1ce3f5ec.js" as="script"><link rel="preload" href="/wiki/assets/css/styles.dd0ba6d4.css" as="style"><link rel="preload" href="/wiki/assets/js/768.e6d4205d.js" as="script"><link rel="preload" href="/wiki/assets/js/app.0403b510.js" as="script">
    <link rel="prefetch" href="/wiki/assets/js/solution_smart-marketing_index.html.066d2d5f.js" as="script"><link rel="prefetch" href="/wiki/assets/js/tutorial_llm_05-rag-embeddings.html.5b793696.js" as="script"><link rel="prefetch" href="/wiki/assets/js/solution_high-availability_index.html.1ef390b5.js" as="script"><link rel="prefetch" href="/wiki/assets/js/tutorial_react_index.html.48c1e14e.js" as="script"><link rel="prefetch" href="/wiki/assets/js/tutorial_llm_02-prompt.html.e84448e0.js" as="script"><link rel="prefetch" href="/wiki/assets/js/tutorial_llm_08-langchain.html.0b85e079.js" as="script"><link rel="prefetch" href="/wiki/assets/js/tutorial_llm_06-assistants-api.html.aee72ff3.js" as="script"><link rel="prefetch" href="/wiki/assets/js/solution_aiops_index.html.95469b02.js" as="script"><link rel="prefetch" href="/wiki/assets/js/tutorial_llm_07-llamaindex.html.62de5a73.js" as="script"><link rel="prefetch" href="/wiki/assets/js/tutorial_swift_index.html.0fd2295e.js" as="script"><link rel="prefetch" href="/wiki/assets/js/tutorial_llm_03-func-call.html.80139b7e.js" as="script"><link rel="prefetch" href="/wiki/assets/js/tutorial_llm_09-llm-tools.html.34caf241.js" as="script"><link rel="prefetch" href="/wiki/assets/js/tutorial_llm_07-semantic-kernel.bak.html.91e47126.js" as="script"><link rel="prefetch" href="/wiki/assets/js/tutorial_embedded_index.html.5d403469.js" as="script"><link rel="prefetch" href="/wiki/assets/js/tutorial_llm_04-ai-programming.html.b02837a6.js" as="script"><link rel="prefetch" href="/wiki/assets/js/interview_nodejs_index.html.5a23d5c1.js" as="script"><link rel="prefetch" href="/wiki/assets/js/tutorial_python_index.html.b138fbf3.js" as="script"><link rel="prefetch" href="/wiki/assets/js/interview_spring-boot_index.html.75c329c5.js" as="script"><link rel="prefetch" href="/wiki/assets/js/interview_java_jdk-changes_index.html.1bf5685c.js" as="script"><link rel="prefetch" href="/wiki/assets/js/solution_finops_tools.html.652a2893.js" as="script"><link rel="prefetch" href="/wiki/assets/js/tutorial_llm_01-intro.html.be7abb56.js" as="script"><link rel="prefetch" href="/wiki/assets/js/tutorial_r_index.html.01fc91b5.js" as="script"><link rel="prefetch" href="/wiki/assets/js/interview_vue_index.html.7ae1fc67.js" as="script"><link rel="prefetch" href="/wiki/assets/js/interview_java_concurrency_index.html.e362b849.js" as="script"><link rel="prefetch" href="/wiki/assets/js/tutorial_llm_llm-faq.html.f09e7381.js" as="script"><link rel="prefetch" href="/wiki/assets/js/tutorial_llm_04-ai-programming-practice.html.fcc21d00.js" as="script"><link rel="prefetch" href="/wiki/assets/js/interview_java_advanced_index.html.71c33c5c.js" as="script"><link rel="prefetch" href="/wiki/assets/js/interview_spring-cloud_index.html.1230cde8.js" as="script"><link rel="prefetch" href="/wiki/assets/js/interview_message-queue_index.html.604a378b.js" as="script"><link rel="prefetch" href="/wiki/assets/js/interview_big-data_index.html.d9a7770e.js" as="script"><link rel="prefetch" href="/wiki/assets/js/interview_database_index.html.943dfb75.js" as="script"><link rel="prefetch" href="/wiki/assets/js/interview_java_basic_index.html.e6c1018a.js" as="script"><link rel="prefetch" href="/wiki/assets/js/tutorial_ml_index.html.f03756d1.js" as="script"><link rel="prefetch" href="/wiki/assets/js/tutorial_llm_ChatALL.html.e7d49092.js" as="script"><link rel="prefetch" href="/wiki/assets/js/interview_java_collections_index.html.8d492322.js" as="script"><link rel="prefetch" href="/wiki/assets/js/tutorial_rl_index.html.adc2eeab.js" as="script"><link rel="prefetch" href="/wiki/assets/js/solution_finops_implementation.html.a3ef2295.js" as="script"><link rel="prefetch" href="/wiki/assets/js/get-started.html.776b8f4a.js" as="script"><link rel="prefetch" href="/wiki/assets/js/solution_finops_kubecost-installation.html.f28b5b94.js" as="script"><link rel="prefetch" href="/wiki/assets/js/solution_finops_risk-trends.html.66e797bc.js" as="script"><link rel="prefetch" href="/wiki/assets/js/tutorial_llm_10-agent.html.5c170d47.js" as="script"><link rel="prefetch" href="/wiki/assets/js/solution_finops_case-studies.html.e283feaa.js" as="script"><link rel="prefetch" href="/wiki/assets/js/solution_finops_index.html.aac8183e.js" as="script"><link rel="prefetch" href="/wiki/assets/js/index.html.599be039.js" as="script"><link rel="prefetch" href="/wiki/assets/js/tutorial_llm_index.html.6b9b5f38.js" as="script"><link rel="prefetch" href="/wiki/assets/js/solution_finops_concept.html.6e93951e.js" as="script"><link rel="prefetch" href="/wiki/assets/js/404.html.66d54fed.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container external-link-icon" vp-container><!--[--><header class="vp-navbar" vp-navbar><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/wiki/"><img class="vp-site-logo" src="/wiki/logo/logo.svg" alt="çŸ¥è¯†åº“"><span class="vp-site-name vp-hide-mobile" aria-hidden="true">çŸ¥è¯†åº“</span></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><nav class="vp-navbar-items vp-hide-mobile" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/wiki/" aria-label="é¦–é¡µ"><!--[--><!--[--><!--]--><!--]-->é¦–é¡µ<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/wiki/get-started.html" aria-label="å¼€å§‹é˜…è¯»"><!--[--><!--[--><!--]--><!--]-->å¼€å§‹é˜…è¯»<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="Java"><span class="title">Java</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="Java"><span class="title">Java</span><span class="right arrow"></span></button><ul class="vp-navbar-dropdown" style="display:none;"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/wiki/interview/java/basic/" aria-label="JavaåŸºç¡€"><!--[--><!--[--><!--]--><!--]-->JavaåŸºç¡€<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/wiki/interview/java/advanced/" aria-label="Javaé«˜çº§"><!--[--><!--[--><!--]--><!--]-->Javaé«˜çº§<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/wiki/interview/java/collections/" aria-label="Javaé›†åˆè¯¦è§£"><!--[--><!--[--><!--]--><!--]-->Javaé›†åˆè¯¦è§£<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/wiki/interview/java/concurrency/" aria-label="Javaå¤šçº¿ç¨‹è¯¦è§£"><!--[--><!--[--><!--]--><!--]-->Javaå¤šçº¿ç¨‹è¯¦è§£<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/wiki/interview/java/jdk-changes/" aria-label="JDKç‰ˆæœ¬å˜åŒ–è¯¦è§£"><!--[--><!--[--><!--]--><!--]-->JDKç‰ˆæœ¬å˜åŒ–è¯¦è§£<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="Spring"><span class="title">Spring</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="Spring"><span class="title">Spring</span><span class="right arrow"></span></button><ul class="vp-navbar-dropdown" style="display:none;"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/wiki/interview/spring-boot/" aria-label="Spring Boot"><!--[--><!--[--><!--]--><!--]-->Spring Boot<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/wiki/interview/spring-cloud/" aria-label="Spring Cloud"><!--[--><!--[--><!--]--><!--]-->Spring Cloud<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="æŠ€æœ¯æ•™ç¨‹"><span class="title">æŠ€æœ¯æ•™ç¨‹</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="æŠ€æœ¯æ•™ç¨‹"><span class="title">æŠ€æœ¯æ•™ç¨‹</span><span class="right arrow"></span></button><ul class="vp-navbar-dropdown" style="display:none;"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link route-link-active auto-link" href="/wiki/tutorial/llm/" aria-label="LLM"><!--[--><!--[--><!--]--><!--]-->LLM<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="è§£å†³æ–¹æ¡ˆ"><span class="title">è§£å†³æ–¹æ¡ˆ</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="è§£å†³æ–¹æ¡ˆ"><span class="title">è§£å†³æ–¹æ¡ˆ</span><span class="right arrow"></span></button><ul class="vp-navbar-dropdown" style="display:none;"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/wiki/solution/aiops/" aria-label="AIOps"><!--[--><!--[--><!--]--><!--]-->AIOps<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/wiki/solution/finops/" aria-label="FinOps"><!--[--><!--[--><!--]--><!--]-->FinOps<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/wiki/solution/high-availability/" aria-label="é«˜å¯ç”¨æ¶æ„"><!--[--><!--[--><!--]--><!--]-->é«˜å¯ç”¨æ¶æ„<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/wiki/solution/smart-marketing/" aria-label="æ™ºèƒ½è¥é”€"><!--[--><!--[--><!--]--><!--]-->æ™ºèƒ½è¥é”€<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><button type="button" class="vp-toggle-color-mode-button" title="toggle color mode"><svg class="light-icon" viewbox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="dark-icon" viewbox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar" vp-sidebar><nav class="vp-navbar-items" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/wiki/" aria-label="é¦–é¡µ"><!--[--><!--[--><!--]--><!--]-->é¦–é¡µ<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/wiki/get-started.html" aria-label="å¼€å§‹é˜…è¯»"><!--[--><!--[--><!--]--><!--]-->å¼€å§‹é˜…è¯»<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="Java"><span class="title">Java</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="Java"><span class="title">Java</span><span class="right arrow"></span></button><ul class="vp-navbar-dropdown" style="display:none;"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/wiki/interview/java/basic/" aria-label="JavaåŸºç¡€"><!--[--><!--[--><!--]--><!--]-->JavaåŸºç¡€<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/wiki/interview/java/advanced/" aria-label="Javaé«˜çº§"><!--[--><!--[--><!--]--><!--]-->Javaé«˜çº§<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/wiki/interview/java/collections/" aria-label="Javaé›†åˆè¯¦è§£"><!--[--><!--[--><!--]--><!--]-->Javaé›†åˆè¯¦è§£<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/wiki/interview/java/concurrency/" aria-label="Javaå¤šçº¿ç¨‹è¯¦è§£"><!--[--><!--[--><!--]--><!--]-->Javaå¤šçº¿ç¨‹è¯¦è§£<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/wiki/interview/java/jdk-changes/" aria-label="JDKç‰ˆæœ¬å˜åŒ–è¯¦è§£"><!--[--><!--[--><!--]--><!--]-->JDKç‰ˆæœ¬å˜åŒ–è¯¦è§£<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="Spring"><span class="title">Spring</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="Spring"><span class="title">Spring</span><span class="right arrow"></span></button><ul class="vp-navbar-dropdown" style="display:none;"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/wiki/interview/spring-boot/" aria-label="Spring Boot"><!--[--><!--[--><!--]--><!--]-->Spring Boot<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/wiki/interview/spring-cloud/" aria-label="Spring Cloud"><!--[--><!--[--><!--]--><!--]-->Spring Cloud<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="æŠ€æœ¯æ•™ç¨‹"><span class="title">æŠ€æœ¯æ•™ç¨‹</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="æŠ€æœ¯æ•™ç¨‹"><span class="title">æŠ€æœ¯æ•™ç¨‹</span><span class="right arrow"></span></button><ul class="vp-navbar-dropdown" style="display:none;"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link route-link-active auto-link" href="/wiki/tutorial/llm/" aria-label="LLM"><!--[--><!--[--><!--]--><!--]-->LLM<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="è§£å†³æ–¹æ¡ˆ"><span class="title">è§£å†³æ–¹æ¡ˆ</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="è§£å†³æ–¹æ¡ˆ"><span class="title">è§£å†³æ–¹æ¡ˆ</span><span class="right arrow"></span></button><ul class="vp-navbar-dropdown" style="display:none;"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/wiki/solution/aiops/" aria-label="AIOps"><!--[--><!--[--><!--]--><!--]-->AIOps<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/wiki/solution/finops/" aria-label="FinOps"><!--[--><!--[--><!--]--><!--]-->FinOps<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/wiki/solution/high-availability/" aria-label="é«˜å¯ç”¨æ¶æ„"><!--[--><!--[--><!--]--><!--]-->é«˜å¯ç”¨æ¶æ„<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/wiki/solution/smart-marketing/" aria-label="æ™ºèƒ½è¥é”€"><!--[--><!--[--><!--]--><!--]-->æ™ºèƒ½è¥é”€<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><ul class="vp-sidebar-items"><!--[--><li><a class="route-link route-link-active auto-link vp-sidebar-item vp-sidebar-heading" href="/wiki/tutorial/llm/" aria-label="LLMå­¦ä¹ æ•™ç¨‹"><!--[--><!--[--><!--]--><!--]-->LLMå­¦ä¹ æ•™ç¨‹<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div vp-content><!--[--><!--]--><div><h1 id="_06-assistants-api-index" tabindex="-1"><a class="header-anchor" href="#_06-assistants-api-index"><span>06 Assistants Api Index</span></a></h1><h1 id="assistants-api" tabindex="-1"><a class="header-anchor" href="#assistants-api"><span>Assistants API</span></a></h1><h2 id="ğŸ’¡-è¿™èŠ‚è¯¾ä¼šå¸¦ç»™ä½ " tabindex="-1"><a class="header-anchor" href="#ğŸ’¡-è¿™èŠ‚è¯¾ä¼šå¸¦ç»™ä½ "><span>ğŸ’¡ è¿™èŠ‚è¯¾ä¼šå¸¦ç»™ä½ </span></a></h2><ol><li>åŸç”Ÿ APIã€GPTs å’Œ Assistants API çš„é€‚ç”¨åœºæ™¯</li><li>ç”¨ Assistants API åšä¸€ä¸ª GPT</li></ol><p>å¼€å§‹ä¸Šè¯¾ï¼</p><h2 id="ğŸ“-è¿™èŠ‚è¯¾æ€ä¹ˆå­¦" tabindex="-1"><a class="header-anchor" href="#ğŸ“-è¿™èŠ‚è¯¾æ€ä¹ˆå­¦"><span>ğŸ“ è¿™èŠ‚è¯¾æ€ä¹ˆå­¦</span></a></h2><p>ä»£ç èƒ½åŠ›è¦æ±‚ï¼š<strong>ä¸­ä½</strong>ï¼ŒAI/æ•°å­¦åŸºç¡€è¦æ±‚ï¼š<strong>æ— </strong></p><ol><li>æœ‰ç¼–ç¨‹åŸºç¡€çš„åŒå­¦ <ul><li>å…³æ³¨ä»£ç å®ç°ç»†èŠ‚ã€åº”ç”¨åœºæ™¯</li></ul></li><li>æ²¡æœ‰ç¼–ç¨‹åŸºç¡€çš„åŒå­¦ <ul><li>å…³æ³¨ OpenAI æä¾›çš„èƒ½åŠ›å’Œäº§å“å½¢æ€ï¼Œå¤šæ€è€ƒä¸ºä»€ä¹ˆ/æœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹</li></ul></li></ol><h2 id="å‰è¨€" tabindex="-1"><a class="header-anchor" href="#å‰è¨€"><span>å‰è¨€</span></a></h2><h3 id="_0-1ã€ä»è½°åŠ¨ä¸€æ—¶çš„-openai-devday-è¯´èµ·" tabindex="-1"><a class="header-anchor" href="#_0-1ã€ä»è½°åŠ¨ä¸€æ—¶çš„-openai-devday-è¯´èµ·"><span>0.1ã€ä»è½°åŠ¨ä¸€æ—¶çš„ OpenAI DevDay è¯´èµ·</span></a></h3><p>2023 å¹´ 11 æœˆ 6 æ—¥ï¼ŒOpenAI DevDay å‘è¡¨äº†ä¸€ç³»åˆ—æ–°èƒ½åŠ›ï¼Œå…¶ä¸­åŒ…æ‹¬ï¼š<strong>GPT Store</strong> å’Œ <strong>Assistants API</strong></p><p><img src="/wiki/assets/img/dawn_of_gpts.17001442.jpg" alt="image"></p><p>è¿™ä¸€æ³¢æ“ä½œä¸€åº¦è¢«è®¤ä¸ºæ˜¯åˆ›ä¸šå…¬å¸ç»ˆç»“è€…</p><p><img src="/wiki/assets/img/post.ba46d758.jpg" alt="image"></p><h3 id="_0-2ã€gpts-å’Œ-assistants-api-æœ¬è´¨æ˜¯é™ä½å¼€å‘é—¨æ§›" tabindex="-1"><a class="header-anchor" href="#_0-2ã€gpts-å’Œ-assistants-api-æœ¬è´¨æ˜¯é™ä½å¼€å‘é—¨æ§›"><span>0.2ã€GPTs å’Œ Assistants API æœ¬è´¨æ˜¯é™ä½å¼€å‘é—¨æ§›</span></a></h3><p>å¯æ“æ§æ€§å’Œæ˜“ç”¨æ€§ä¹‹é—´çš„æƒè¡¡ä¸æŠ˜ä¸­ï¼š</p><ol><li>æ›´å¤šæŠ€æœ¯è·¯çº¿é€‰æ‹©ï¼šåŸç”Ÿ APIã€GPTs å’Œ Assistants API</li><li>GPTs çš„ç¤ºèŒƒï¼Œèµ·åˆ°æ•™è‚²å®¢æˆ·çš„ä½œç”¨ï¼Œæœ‰åŠ©äºæ‰“å¼€å¸‚åœº</li><li>è¦æ›´å¤§è‡ªç”±åº¦ï¼Œéœ€è¦ç”¨ Assistants API å¼€å‘</li><li>æƒ³æè‡´è°ƒä¼˜ï¼Œè¿˜å¾—åŸç”Ÿ API + RAG</li></ol><h3 id="_0-3ã€assistants-api-çš„ä¸»è¦èƒ½åŠ›" tabindex="-1"><a class="header-anchor" href="#_0-3ã€assistants-api-çš„ä¸»è¦èƒ½åŠ›"><span>0.3ã€Assistants API çš„ä¸»è¦èƒ½åŠ›</span></a></h3><ol><li>åˆ›å»ºå’Œç®¡ç† assistantï¼Œæ¯ä¸ª assistant æœ‰ç‹¬ç«‹çš„é…ç½®</li><li>æ”¯æŒæ— é™é•¿çš„å¤šè½®å¯¹è¯ï¼Œå¯¹è¯å†å²ä¿å­˜åœ¨ OpenAI çš„æœåŠ¡å™¨ä¸Š</li><li>é€šè¿‡è‡ªæœ‰å‘é‡æ•°æ®åº“æ”¯æŒåŸºäºæ–‡ä»¶çš„ RAG</li><li>æ”¯æŒ Code Interpreter <ol><li>åœ¨æ²™ç®±é‡Œç¼–å†™å¹¶è¿è¡Œ Python ä»£ç </li><li>è‡ªæˆ‘ä¿®æ­£ä»£ç </li><li>å¯ä¼ æ–‡ä»¶ç»™ Code Interpreter</li></ol></li><li>æ”¯æŒ Function Calling</li><li>æ”¯æŒåœ¨çº¿è°ƒè¯•çš„ Playground</li></ol><p>æ”¶è´¹ï¼š</p><ol><li>æŒ‰ token æ”¶è´¹ã€‚æ— è®ºå¤šè½®å¯¹è¯ï¼Œè¿˜æ˜¯ RAGï¼Œæ‰€æœ‰éƒ½æŒ‰å®é™…æ¶ˆè€—çš„ token æ”¶è´¹</li><li>å¦‚æœå¯¹è¯å†å²è¿‡å¤šè¶…è¿‡å¤§æ¨¡å‹ä¸Šä¸‹æ–‡çª—å£ï¼Œä¼šè‡ªåŠ¨æ”¾å¼ƒæœ€è€çš„å¯¹è¯æ¶ˆæ¯</li><li>æ–‡ä»¶æŒ‰æ•°æ®å¤§å°å’Œå­˜æ”¾æ—¶é•¿æ”¶è´¹ã€‚1 GB <strong>å‘é‡å­˜å‚¨</strong> ä¸€å¤©æ”¶è´¹ 0.10 ç¾å…ƒ</li><li>Code interpreter è·‘ä¸€æ¬¡ $0.03</li></ol><h2 id="ä¸€ã€gpt-store-åˆ›å»ºè‡ªå·±çš„-gpt" tabindex="-1"><a class="header-anchor" href="#ä¸€ã€gpt-store-åˆ›å»ºè‡ªå·±çš„-gpt"><span>ä¸€ã€GPT Storeï¼šåˆ›å»ºè‡ªå·±çš„ GPT</span></a></h2><p><img src="/wiki/assets/img/create_gpt.5e51b300.png" alt="image"></p><p><img src="/wiki/assets/img/gpt.6a165ed6.png" alt="image"></p><p>å‘å¸ƒé“¾æ¥ï¼šhttps://chat.openai.com/g/g-iU8hVr4jR-wo-de-demogpt</p><h2 id="äºŒã€assistants-api" tabindex="-1"><a class="header-anchor" href="#äºŒã€assistants-api"><span>äºŒã€Assistants API</span></a></h2><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line">!pip install <span class="token operator">-</span><span class="token operator">-</span>upgrade openai</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line"><span class="token keyword">from</span> openai <span class="token keyword">import</span> OpenAI</span>
<span class="line">client <span class="token operator">=</span> OpenAI<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">ids <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span></span>
<span class="line">assistants <span class="token operator">=</span> client<span class="token punctuation">.</span>beta<span class="token punctuation">.</span>assistants<span class="token punctuation">.</span><span class="token builtin">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">for</span> assistant <span class="token keyword">in</span> assistants<span class="token punctuation">:</span></span>
<span class="line">    ids<span class="token punctuation">.</span>append<span class="token punctuation">(</span>assistant<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token comment"># æ¸…ç†ä¸€ä¸‹æ•™å­¦ç¯å¢ƒ</span></span>
<span class="line"><span class="token keyword">for</span> <span class="token builtin">id</span> <span class="token keyword">in</span> ids<span class="token punctuation">:</span></span>
<span class="line">    client<span class="token punctuation">.</span>beta<span class="token punctuation">.</span>assistants<span class="token punctuation">.</span>delete<span class="token punctuation">(</span><span class="token builtin">id</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-1ã€åˆ›å»ºä¸€ä¸ª-assistant" tabindex="-1"><a class="header-anchor" href="#_2-1ã€åˆ›å»ºä¸€ä¸ª-assistant"><span>2.1ã€åˆ›å»ºä¸€ä¸ª Assistant</span></a></h3><p>å¯ä»¥ä¸ºæ¯ä¸ªåº”ç”¨ï¼Œç”šè‡³åº”ç”¨ä¸­çš„æ¯ä¸ªæœ‰å¯¹è¯å†å²çš„ä½¿ç”¨åœºæ™¯ï¼Œåˆ›å»ºä¸€ä¸ª assistantã€‚</p><p>è™½ç„¶å¯ä»¥ç”¨ä»£ç åˆ›å»ºï¼Œä¹Ÿä¸å¤æ‚ï¼Œä¾‹å¦‚ï¼š</p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line"><span class="token keyword">from</span> openai <span class="token keyword">import</span> OpenAI</span>
<span class="line"></span>
<span class="line"><span class="token comment"># åˆå§‹åŒ– OpenAI æœåŠ¡</span></span>
<span class="line">client <span class="token operator">=</span> OpenAI<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># åˆ›å»ºåŠ©æ‰‹</span></span>
<span class="line">assistant <span class="token operator">=</span> client<span class="token punctuation">.</span>beta<span class="token punctuation">.</span>assistants<span class="token punctuation">.</span>create<span class="token punctuation">(</span></span>
<span class="line">    name<span class="token operator">=</span><span class="token string">&quot;AGIClass Demo&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    instructions<span class="token operator">=</span><span class="token string">&quot;ä½ å«ç“œç“œï¼Œä½ æ˜¯AGIè¯¾å ‚çš„æ™ºèƒ½åŠ©ç†ã€‚ä½ è´Ÿè´£å›ç­”ä¸AGIè¯¾å ‚æœ‰å…³çš„é—®é¢˜ã€‚&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    model<span class="token operator">=</span><span class="token string">&quot;gpt-4o&quot;</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä½†æ˜¯ï¼Œæ›´ä½³åšæ³•æ˜¯ï¼Œåˆ° <a href="https://platform.openai.com/playground?mode=assistant" target="_blank" rel="noopener noreferrer">Playground</a> åœ¨çº¿åˆ›å»ºï¼Œå› ä¸ºï¼š</p><ol><li>æ›´æ–¹ä¾¿è°ƒæ•´</li><li>æ›´æ–¹ä¾¿æµ‹è¯•</li></ol><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line"><span class="token keyword">from</span> openai <span class="token keyword">import</span> OpenAI</span>
<span class="line"></span>
<span class="line"><span class="token comment"># åˆå§‹åŒ– OpenAI æœåŠ¡</span></span>
<span class="line">client <span class="token operator">=</span> OpenAI<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># åˆ›å»ºåŠ©æ‰‹</span></span>
<span class="line">assistant <span class="token operator">=</span> client<span class="token punctuation">.</span>beta<span class="token punctuation">.</span>assistants<span class="token punctuation">.</span>create<span class="token punctuation">(</span></span>
<span class="line">    name<span class="token operator">=</span><span class="token string">&quot;AGIClass Demo TempLive&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    instructions<span class="token operator">=</span><span class="token string">&quot;ä½ å«ç“œç“œï¼Œä½ æ˜¯AGIè¯¾å ‚çš„æ™ºèƒ½åŠ©ç†ã€‚ä½ è´Ÿè´£å›ç­”ä¸AGIè¯¾å ‚æœ‰å…³çš„é—®é¢˜ã€‚&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    model<span class="token operator">=</span><span class="token string">&quot;gpt-4o&quot;</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span>assistant<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>Output:</strong></p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">asst_XDrRV6h6cKJ29jxCf5tzlluT</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="_2-2ã€æ ·ä¾‹-assistant-çš„é…ç½®" tabindex="-1"><a class="header-anchor" href="#_2-2ã€æ ·ä¾‹-assistant-çš„é…ç½®"><span>2.2ã€æ ·ä¾‹ Assistant çš„é…ç½®</span></a></h3><p>Instructions:</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">ä½ å«ç“œç“œã€‚ä½ æ˜¯AGIè¯¾å ‚çš„åŠ©æ‰‹ã€‚ä½ åªå›ç­”è·ŸAIå¤§æ¨¡å‹æœ‰å…³çš„é—®é¢˜ã€‚ä¸è¦è·Ÿå­¦ç”Ÿé—²èŠã€‚æ¯æ¬¡å›ç­”é—®é¢˜å‰ï¼Œä½ è¦æ‹†è§£é—®é¢˜å¹¶è¾“å‡ºä¸€æ­¥ä¸€æ­¥çš„æ€è€ƒè¿‡ç¨‹ã€‚</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Functions:</p><div class="language-JSON line-numbers-mode" data-highlighter="prismjs" data-ext="JSON"><pre><code><span class="line">{</span>
<span class="line">  &quot;name&quot;: &quot;ask_database&quot;,</span>
<span class="line">  &quot;description&quot;: &quot;Use this function to answer user questions about course schedule. Output should be a fully formed SQL query.&quot;,</span>
<span class="line">  &quot;parameters&quot;: {</span>
<span class="line">    &quot;type&quot;: &quot;object&quot;,</span>
<span class="line">    &quot;properties&quot;: {</span>
<span class="line">      &quot;query&quot;: {</span>
<span class="line">        &quot;type&quot;: &quot;string&quot;,</span>
<span class="line">        &quot;description&quot;: &quot;SQL query extracting info to answer the user&#39;s question.\nSQL should be written using this database schema:\n\nCREATE TABLE Courses (\n\tid INT AUTO_INCREMENT PRIMARY KEY,\n\tcourse_date DATE NOT NULL,\n\tstart_time TIME NOT NULL,\n\tend_time TIME NOT NULL,\n\tcourse_name VARCHAR(255) NOT NULL,\n\tinstructor VARCHAR(255) NOT NULL\n);\n\nThe query should be returned in plain text, not in JSON.\nThe query should only contain grammars supported by SQLite.&quot;</span>
<span class="line">      }</span>
<span class="line">    },</span>
<span class="line">    &quot;required&quot;: [</span>
<span class="line">      &quot;query&quot;</span>
<span class="line">    ]</span>
<span class="line">  }</span>
<span class="line">}</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šä¼ æ–‡ä»¶:</p><h2 id="ä¸‰ã€ä»£ç è®¿é—®-assistant" tabindex="-1"><a class="header-anchor" href="#ä¸‰ã€ä»£ç è®¿é—®-assistant"><span>ä¸‰ã€ä»£ç è®¿é—® Assistant</span></a></h2><h3 id="_3-1ã€ç®¡ç†-thread" tabindex="-1"><a class="header-anchor" href="#_3-1ã€ç®¡ç†-thread"><span>3.1ã€ç®¡ç† thread</span></a></h3><p>Threadsï¼š</p><ol><li>Threads é‡Œä¿å­˜çš„æ˜¯å¯¹è¯å†å²ï¼Œå³ messages</li><li>ä¸€ä¸ª assistant å¯ä»¥æœ‰å¤šä¸ª thread</li><li>ä¸€ä¸ª thread å¯ä»¥æœ‰æ— é™æ¡ message</li><li>ä¸€ä¸ªç”¨æˆ·ä¸ assistant çš„å¤šè½®å¯¹è¯å†å²å¯ä»¥ç»´æŠ¤åœ¨ä¸€ä¸ª thread é‡Œ</li></ol><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line"><span class="token keyword">import</span> json</span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span class="token keyword">def</span> <span class="token function">show_json</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token triple-quoted-string string">&quot;&quot;&quot;æŠŠä»»æ„å¯¹è±¡ç”¨æ’ç‰ˆç¾è§‚çš„ JSON æ ¼å¼æ‰“å°å‡ºæ¥&quot;&quot;&quot;</span></span>
<span class="line">    <span class="token keyword">print</span><span class="token punctuation">(</span>json<span class="token punctuation">.</span>dumps<span class="token punctuation">(</span></span>
<span class="line">        json<span class="token punctuation">.</span>loads<span class="token punctuation">(</span>obj<span class="token punctuation">.</span>model_dump_json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">        indent<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">,</span></span>
<span class="line">        ensure_ascii<span class="token operator">=</span><span class="token boolean">False</span></span>
<span class="line">    <span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line"><span class="token keyword">from</span> openai <span class="token keyword">import</span> OpenAI</span>
<span class="line"><span class="token keyword">import</span> os</span>
<span class="line"></span>
<span class="line"><span class="token keyword">from</span> dotenv <span class="token keyword">import</span> load_dotenv<span class="token punctuation">,</span> find_dotenv</span>
<span class="line">_ <span class="token operator">=</span> load_dotenv<span class="token punctuation">(</span>find_dotenv<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># åˆå§‹åŒ– OpenAI æœåŠ¡</span></span>
<span class="line">client <span class="token operator">=</span> OpenAI<span class="token punctuation">(</span><span class="token punctuation">)</span>   <span class="token comment"># openai &gt;= 1.3.0 èµ·ï¼ŒOPENAI_API_KEY å’Œ OPENAI_BASE_URL ä¼šè¢«é»˜è®¤ä½¿ç”¨</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># åˆ›å»º thread</span></span>
<span class="line">thread <span class="token operator">=</span> client<span class="token punctuation">.</span>beta<span class="token punctuation">.</span>threads<span class="token punctuation">.</span>create<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">show_json<span class="token punctuation">(</span>thread<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>Output:</strong></p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">{</span>
<span class="line">    &quot;id&quot;: &quot;thread_uCIK4JvAtuJJD3g500z34kDS&quot;,</span>
<span class="line">    &quot;created_at&quot;: 1727181042,</span>
<span class="line">    &quot;metadata&quot;: {},</span>
<span class="line">    &quot;object&quot;: &quot;thread&quot;,</span>
<span class="line">    &quot;tool_resources&quot;: {</span>
<span class="line">        &quot;code_interpreter&quot;: null,</span>
<span class="line">        &quot;file_search&quot;: null</span>
<span class="line">    }</span>
<span class="line">}</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯ä»¥æ ¹æ®éœ€è¦ï¼Œè‡ªå®šä¹‰ <code>metadata</code>ï¼Œæ¯”å¦‚åˆ›å»º thread æ—¶ï¼ŒæŠŠ thread å½’å±çš„ç”¨æˆ·ä¿¡æ¯å­˜å…¥ã€‚</p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line">thread <span class="token operator">=</span> client<span class="token punctuation">.</span>beta<span class="token punctuation">.</span>threads<span class="token punctuation">.</span>create<span class="token punctuation">(</span></span>
<span class="line">    metadata<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">&quot;fullname&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;ç‹å“ç„¶&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;username&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;wzr&quot;</span><span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">)</span></span>
<span class="line">show_json<span class="token punctuation">(</span>thread<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>Output:</strong></p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">{</span>
<span class="line">    &quot;id&quot;: &quot;thread_RwAiRg6IR8VwQYSHIkz4qbV7&quot;,</span>
<span class="line">    &quot;created_at&quot;: 1727181200,</span>
<span class="line">    &quot;metadata&quot;: {</span>
<span class="line">        &quot;fullname&quot;: &quot;ç‹å“ç„¶&quot;,</span>
<span class="line">        &quot;username&quot;: &quot;wzr&quot;</span>
<span class="line">    },</span>
<span class="line">    &quot;object&quot;: &quot;thread&quot;,</span>
<span class="line">    &quot;tool_resources&quot;: {</span>
<span class="line">        &quot;code_interpreter&quot;: null,</span>
<span class="line">        &quot;file_search&quot;: null</span>
<span class="line">    }</span>
<span class="line">}</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Thread ID å¦‚æœä¿å­˜ä¸‹æ¥ï¼Œæ˜¯å¯ä»¥åœ¨ä¸‹æ¬¡è¿è¡Œæ—¶ç»§ç»­å¯¹è¯çš„ã€‚</p><p>ä» thread ID è·å– thread å¯¹è±¡çš„ä»£ç ï¼š</p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line">thread <span class="token operator">=</span> client<span class="token punctuation">.</span>beta<span class="token punctuation">.</span>threads<span class="token punctuation">.</span>retrieve<span class="token punctuation">(</span>thread<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">)</span></span>
<span class="line">show_json<span class="token punctuation">(</span>thread<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>Output:</strong></p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">{</span>
<span class="line">    &quot;id&quot;: &quot;thread_RwAiRg6IR8VwQYSHIkz4qbV7&quot;,</span>
<span class="line">    &quot;created_at&quot;: 1727181200,</span>
<span class="line">    &quot;metadata&quot;: {</span>
<span class="line">        &quot;fullname&quot;: &quot;ç‹å“ç„¶&quot;,</span>
<span class="line">        &quot;username&quot;: &quot;wzr&quot;</span>
<span class="line">    },</span>
<span class="line">    &quot;object&quot;: &quot;thread&quot;,</span>
<span class="line">    &quot;tool_resources&quot;: {</span>
<span class="line">        &quot;code_interpreter&quot;: {</span>
<span class="line">            &quot;file_ids&quot;: []</span>
<span class="line">        },</span>
<span class="line">        &quot;file_search&quot;: null</span>
<span class="line">    }</span>
<span class="line">}</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ­¤å¤–ï¼Œè¿˜æœ‰ï¼š</p><ol><li><code>threads.modify()</code> ä¿®æ”¹ thread çš„ <code>metadata</code> å’Œ <code>tool_resources</code></li><li><code>threads.retrieve()</code> è·å– thread</li><li><code>threads.delete()</code> åˆ é™¤ threadã€‚</li></ol><p>å…·ä½“æ–‡æ¡£å‚è€ƒï¼šhttps://platform.openai.com/docs/api-reference/threads</p><h3 id="_3-2ã€ç»™-threads-æ·»åŠ -messages" tabindex="-1"><a class="header-anchor" href="#_3-2ã€ç»™-threads-æ·»åŠ -messages"><span>3.2ã€ç»™ Threads æ·»åŠ  Messages</span></a></h3><p>è¿™é‡Œçš„ messages ç»“æ„è¦å¤æ‚ä¸€äº›ï¼š</p><ol><li>ä¸ä»…æœ‰æ–‡æœ¬ï¼Œè¿˜å¯ä»¥æœ‰å›¾ç‰‡å’Œæ–‡ä»¶</li><li>ä¹Ÿæœ‰ <code>metadata</code></li></ol><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line">message <span class="token operator">=</span> client<span class="token punctuation">.</span>beta<span class="token punctuation">.</span>threads<span class="token punctuation">.</span>messages<span class="token punctuation">.</span>create<span class="token punctuation">(</span></span>
<span class="line">    thread_id<span class="token operator">=</span>thread<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">,</span>  <span class="token comment"># message å¿…é¡»å½’å±äºä¸€ä¸ª thread</span></span>
<span class="line">    role<span class="token operator">=</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">,</span>          <span class="token comment"># å–å€¼æ˜¯ user æˆ–è€… assistantã€‚ä½† assistant æ¶ˆæ¯ä¼šè¢«è‡ªåŠ¨åŠ å…¥ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¸éœ€è¦è‡ªå·±æ„é€ </span></span>
<span class="line">    content<span class="token operator">=</span><span class="token string">&quot;ä½ éƒ½èƒ½åšä»€ä¹ˆï¼Ÿ&quot;</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">)</span></span>
<span class="line">show_json<span class="token punctuation">(</span>message<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>Output:</strong></p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">{</span>
<span class="line">    &quot;id&quot;: &quot;msg_QiGaPZCyExW8nKtgXhSqF3cd&quot;,</span>
<span class="line">    &quot;assistant_id&quot;: null,</span>
<span class="line">    &quot;attachments&quot;: [],</span>
<span class="line">    &quot;completed_at&quot;: null,</span>
<span class="line">    &quot;content&quot;: [</span>
<span class="line">        {</span>
<span class="line">            &quot;text&quot;: {</span>
<span class="line">                &quot;annotations&quot;: [],</span>
<span class="line">                &quot;value&quot;: &quot;ä½ éƒ½èƒ½åšä»€ä¹ˆï¼Ÿ&quot;</span>
<span class="line">            },</span>
<span class="line">            &quot;type&quot;: &quot;text&quot;</span>
<span class="line">        }</span>
<span class="line">    ],</span>
<span class="line">    &quot;created_at&quot;: 1727181255,</span>
<span class="line">    &quot;incomplete_at&quot;: null,</span>
<span class="line">    &quot;incomplete_details&quot;: null,</span>
<span class="line">    &quot;metadata&quot;: {},</span>
<span class="line">    &quot;object&quot;: &quot;thread.message&quot;,</span>
<span class="line">    &quot;role&quot;: &quot;user&quot;,</span>
<span class="line">    &quot;run_id&quot;: null,</span>
<span class="line">    &quot;status&quot;: null,</span>
<span class="line">    &quot;thread_id&quot;: &quot;thread_RwAiRg6IR8VwQYSHIkz4qbV7&quot;</span>
<span class="line">}</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿˜æœ‰å¦‚ä¸‹å‡½æ•°ï¼š</p><ol><li><code>threads.messages.retrieve()</code> è·å– message</li><li><code>threads.messages.update()</code> æ›´æ–° message çš„ <code>metadata</code></li><li><code>threads.messages.list()</code> åˆ—å‡ºç»™å®š thread ä¸‹çš„æ‰€æœ‰ messages</li></ol><p>å…·ä½“æ–‡æ¡£å‚è€ƒï¼šhttps://platform.openai.com/docs/api-reference/messages</p><p>ä¹Ÿå¯ä»¥åœ¨åˆ›å»º thread åŒæ—¶åˆå§‹åŒ–ä¸€ä¸ª message åˆ—è¡¨</p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line">thread <span class="token operator">=</span> client<span class="token punctuation">.</span>beta<span class="token punctuation">.</span>threads<span class="token punctuation">.</span>create<span class="token punctuation">(</span></span>
<span class="line">    messages<span class="token operator">=</span><span class="token punctuation">[</span></span>
<span class="line">        <span class="token punctuation">{</span></span>
<span class="line">            <span class="token string">&quot;role&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;user&quot;</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token string">&quot;content&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;ä½ å¥½&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token punctuation">{</span></span>
<span class="line">            <span class="token string">&quot;role&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;assistant&quot;</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token string">&quot;content&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;æœ‰ä»€ä¹ˆå¯ä»¥å¸®æ‚¨ï¼Ÿ&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token punctuation">{</span></span>
<span class="line">            <span class="token string">&quot;role&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;user&quot;</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token string">&quot;content&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;ä½ æ˜¯è°ï¼Ÿ&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">]</span></span>
<span class="line"><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">show_json<span class="token punctuation">(</span>thread<span class="token punctuation">)</span>  <span class="token comment"># æ˜¾ç¤º thread</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;-----&quot;</span><span class="token punctuation">)</span></span>
<span class="line">show_json<span class="token punctuation">(</span>client<span class="token punctuation">.</span>beta<span class="token punctuation">.</span>threads<span class="token punctuation">.</span>messages<span class="token punctuation">.</span><span class="token builtin">list</span><span class="token punctuation">(</span></span>
<span class="line">    thread<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># æ˜¾ç¤ºæŒ‡å®š thread ä¸­çš„ message åˆ—è¡¨</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>Output:</strong></p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">{</span>
<span class="line">    &quot;id&quot;: &quot;thread_bfsb24BRI9xgdFkEC8jD7KdN&quot;,</span>
<span class="line">    &quot;created_at&quot;: 1727181315,</span>
<span class="line">    &quot;metadata&quot;: {},</span>
<span class="line">    &quot;object&quot;: &quot;thread&quot;,</span>
<span class="line">    &quot;tool_resources&quot;: {</span>
<span class="line">        &quot;code_interpreter&quot;: null,</span>
<span class="line">        &quot;file_search&quot;: null</span>
<span class="line">    }</span>
<span class="line">}</span>
<span class="line">-----</span>
<span class="line">{</span>
<span class="line">    &quot;data&quot;: [</span>
<span class="line">        {</span>
<span class="line">            &quot;id&quot;: &quot;msg_FK5484kj6ATUKvcO5VffW3aa&quot;,</span>
<span class="line">            &quot;assistant_id&quot;: null,</span>
<span class="line">            &quot;attachments&quot;: [],</span>
<span class="line">            &quot;completed_at&quot;: null,</span>
<span class="line">            &quot;content&quot;: [</span>
<span class="line">                {</span>
<span class="line">                    &quot;text&quot;: {</span>
<span class="line">                        &quot;annotations&quot;: [],</span>
<span class="line">                        &quot;value&quot;: &quot;ä½ æ˜¯è°ï¼Ÿ&quot;</span>
<span class="line">                    },</span>
<span class="line">                    &quot;type&quot;: &quot;text&quot;</span>
<span class="line">                }</span>
<span class="line">            ],</span>
<span class="line">            &quot;created_at&quot;: 1727181315,</span>
<span class="line">            &quot;incomplete_at&quot;: null,</span>
<span class="line">            &quot;incomplete_details&quot;: null,</span>
<span class="line">            &quot;metadata&quot;: {},</span>
<span class="line">            &quot;object&quot;: &quot;thread.message&quot;,</span>
<span class="line">            &quot;role&quot;: &quot;user&quot;,</span>
<span class="line">            &quot;run_id&quot;: null,</span>
<span class="line">            &quot;status&quot;: null,</span>
<span class="line">            &quot;thread_id&quot;: &quot;thread_bfsb24BRI9xgdFkEC8jD7KdN&quot;</span>
<span class="line">        },</span>
<span class="line">        {</span>
<span class="line">            &quot;id&quot;: &quot;msg_CTQwkEsa33NpM8Q0M93halia&quot;,</span>
<span class="line">            &quot;assistant_id&quot;: null,</span>
<span class="line">            &quot;attachments&quot;: [],</span>
<span class="line">            &quot;completed_at&quot;: null,</span>
<span class="line">            &quot;content&quot;: [</span>
<span class="line">                {</span>
<span class="line">                    &quot;text&quot;: {</span>
<span class="line">                        &quot;annotations&quot;: [],</span>
<span class="line">                        &quot;value&quot;: &quot;æœ‰ä»€ä¹ˆå¯ä»¥å¸®æ‚¨ï¼Ÿ&quot;</span>
<span class="line">                    },</span>
<span class="line">                    &quot;type&quot;: &quot;text&quot;</span>
<span class="line">                }</span>
<span class="line">            ],</span>
<span class="line">            &quot;created_at&quot;: 1727181315,</span>
<span class="line">            &quot;incomplete_at&quot;: null,</span>
<span class="line">            &quot;incomplete_details&quot;: null,</span>
<span class="line">            &quot;metadata&quot;: {},</span>
<span class="line">            &quot;object&quot;: &quot;thread.message&quot;,</span>
<span class="line">            &quot;role&quot;: &quot;assistant&quot;,</span>
<span class="line">            &quot;run_id&quot;: null,</span>
<span class="line">            &quot;status&quot;: null,</span>
<span class="line">            &quot;thread_id&quot;: &quot;thread_bfsb24BRI9xgdFkEC8jD7KdN&quot;</span>
<span class="line">        },</span>
<span class="line">        {</span>
<span class="line">            &quot;id&quot;: &quot;msg_Paitr5C6MLJ7gVsYITTrKlef&quot;,</span>
<span class="line">            &quot;assistant_id&quot;: null,</span>
<span class="line">            &quot;attachments&quot;: [],</span>
<span class="line">            &quot;completed_at&quot;: null,</span>
<span class="line">            &quot;content&quot;: [</span>
<span class="line">                {</span>
<span class="line">                    &quot;text&quot;: {</span>
<span class="line">                        &quot;annotations&quot;: [],</span>
<span class="line">                        &quot;value&quot;: &quot;ä½ å¥½&quot;</span>
<span class="line">                    },</span>
<span class="line">                    &quot;type&quot;: &quot;text&quot;</span>
<span class="line">                }</span>
<span class="line">            ],</span>
<span class="line">            &quot;created_at&quot;: 1727181315,</span>
<span class="line">            &quot;incomplete_at&quot;: null,</span>
<span class="line">            &quot;incomplete_details&quot;: null,</span>
<span class="line">            &quot;metadata&quot;: {},</span>
<span class="line">            &quot;object&quot;: &quot;thread.message&quot;,</span>
<span class="line">            &quot;role&quot;: &quot;user&quot;,</span>
<span class="line">            &quot;run_id&quot;: null,</span>
<span class="line">            &quot;status&quot;: null,</span>
<span class="line">            &quot;thread_id&quot;: &quot;thread_bfsb24BRI9xgdFkEC8jD7KdN&quot;</span>
<span class="line">        }</span>
<span class="line">    ],</span>
<span class="line">    &quot;object&quot;: &quot;list&quot;,</span>
<span class="line">    &quot;first_id&quot;: &quot;msg_FK5484kj6ATUKvcO5VffW3aa&quot;,</span>
<span class="line">    &quot;last_id&quot;: &quot;msg_Paitr5C6MLJ7gVsYITTrKlef&quot;,</span>
<span class="line">    &quot;has_more&quot;: false</span>
<span class="line">}</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3-3ã€å¼€å§‹-run" tabindex="-1"><a class="header-anchor" href="#_3-3ã€å¼€å§‹-run"><span>3.3ã€å¼€å§‹ Run</span></a></h2><ul><li>ç”¨ run æŠŠ assistant å’Œ thread å…³è”ï¼Œè¿›è¡Œå¯¹è¯</li><li>ä¸€ä¸ª prompt å°±æ˜¯ä¸€æ¬¡ run</li></ul><h3 id="_3-1ã€ç›´æ¥è¿è¡Œ" tabindex="-1"><a class="header-anchor" href="#_3-1ã€ç›´æ¥è¿è¡Œ"><span>3.1ã€ç›´æ¥è¿è¡Œ</span></a></h3><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line">assistant_id <span class="token operator">=</span> <span class="token string">&quot;asst_psmawyqIV5HrDiwxYAesO4ia&quot;</span>  <span class="token comment"># ä» Playground ä¸­æ‹·è´</span></span>
<span class="line"></span>
<span class="line">run <span class="token operator">=</span> client<span class="token punctuation">.</span>beta<span class="token punctuation">.</span>threads<span class="token punctuation">.</span>runs<span class="token punctuation">.</span>create_and_poll<span class="token punctuation">(</span></span>
<span class="line">    thread_id<span class="token operator">=</span>thread<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">,</span></span>
<span class="line">    assistant_id<span class="token operator">=</span>assistant_id<span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line"><span class="token keyword">if</span> run<span class="token punctuation">.</span>status <span class="token operator">==</span> <span class="token string">&#39;completed&#39;</span><span class="token punctuation">:</span></span>
<span class="line">    messages <span class="token operator">=</span> client<span class="token punctuation">.</span>beta<span class="token punctuation">.</span>threads<span class="token punctuation">.</span>messages<span class="token punctuation">.</span><span class="token builtin">list</span><span class="token punctuation">(</span></span>
<span class="line">        thread_id<span class="token operator">=</span>thread<span class="token punctuation">.</span><span class="token builtin">id</span></span>
<span class="line">    <span class="token punctuation">)</span></span>
<span class="line">    show_json<span class="token punctuation">(</span>messages<span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">else</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token keyword">print</span><span class="token punctuation">(</span>run<span class="token punctuation">.</span>status<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>Output:</strong></p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">{</span>
<span class="line">    &quot;data&quot;: [</span>
<span class="line">        {</span>
<span class="line">            &quot;id&quot;: &quot;msg_dI90Q3SDEvXA55seDIvbSn7U&quot;,</span>
<span class="line">            &quot;assistant_id&quot;: &quot;asst_psmawyqIV5HrDiwxYAesO4ia&quot;,</span>
<span class="line">            &quot;attachments&quot;: [],</span>
<span class="line">            &quot;completed_at&quot;: null,</span>
<span class="line">            &quot;content&quot;: [</span>
<span class="line">                {</span>
<span class="line">                    &quot;text&quot;: {</span>
<span class="line">                        &quot;annotations&quot;: [],</span>
<span class="line">                        &quot;value&quot;: &quot;æˆ‘æ˜¯ç“œç“œï¼ŒAGIè¯¾å ‚çš„æ™ºèƒ½åŠ©ç†ã€‚æˆ‘å¯ä»¥å¸®åŠ©å›ç­”ä¸AGIè¯¾å ‚æœ‰å…³çš„é—®é¢˜ï¼ŒåŒ…æ‹¬è¯¾ç¨‹å®‰æ’ã€å†…å®¹æŸ¥è¯¢ç­‰ã€‚å¦‚æœæ‚¨æœ‰ä»»ä½•é—®é¢˜ï¼Œè¯·éšæ—¶å‘Šè¯‰æˆ‘ï¼&quot;</span>
<span class="line">                    },</span>
<span class="line">                    &quot;type&quot;: &quot;text&quot;</span>
<span class="line">                }</span>
<span class="line">            ],</span>
<span class="line">            &quot;created_at&quot;: 1727181442,</span>
<span class="line">            &quot;incomplete_at&quot;: null,</span>
<span class="line">            &quot;incomplete_details&quot;: null,</span>
<span class="line">            &quot;metadata&quot;: {},</span>
<span class="line">            &quot;object&quot;: &quot;thread.message&quot;,</span>
<span class="line">            &quot;role&quot;: &quot;assistant&quot;,</span>
<span class="line">            &quot;run_id&quot;: &quot;run_71Eapzff4usAOcKvFManpSJK&quot;,</span>
<span class="line">            &quot;status&quot;: null,</span>
<span class="line">            &quot;thread_id&quot;: &quot;thread_bfsb24BRI9xgdFkEC8jD7KdN&quot;</span>
<span class="line">        },</span>
<span class="line">        {</span>
<span class="line">            &quot;id&quot;: &quot;msg_FK5484kj6ATUKvcO5VffW3aa&quot;,</span>
<span class="line">            &quot;assistant_id&quot;: null,</span>
<span class="line">            &quot;attachments&quot;: [],</span>
<span class="line">            &quot;completed_at&quot;: null,</span>
<span class="line">            &quot;content&quot;: [</span>
<span class="line">                {</span>
<span class="line">                    &quot;text&quot;: {</span>
<span class="line">                        &quot;annotations&quot;: [],</span>
<span class="line">                        &quot;value&quot;: &quot;ä½ æ˜¯è°ï¼Ÿ&quot;</span>
<span class="line">                    },</span>
<span class="line">                    &quot;type&quot;: &quot;text&quot;</span>
<span class="line">                }</span>
<span class="line">            ],</span>
<span class="line">            &quot;created_at&quot;: 1727181315,</span>
<span class="line">            &quot;incomplete_at&quot;: null,</span>
<span class="line">            &quot;incomplete_details&quot;: null,</span>
<span class="line">            &quot;metadata&quot;: {},</span>
<span class="line">            &quot;object&quot;: &quot;thread.message&quot;,</span>
<span class="line">            &quot;role&quot;: &quot;user&quot;,</span>
<span class="line">            &quot;run_id&quot;: null,</span>
<span class="line">            &quot;status&quot;: null,</span>
<span class="line">            &quot;thread_id&quot;: &quot;thread_bfsb24BRI9xgdFkEC8jD7KdN&quot;</span>
<span class="line">        },</span>
<span class="line">        {</span>
<span class="line">            &quot;id&quot;: &quot;msg_CTQwkEsa33NpM8Q0M93halia&quot;,</span>
<span class="line">            &quot;assistant_id&quot;: null,</span>
<span class="line">            &quot;attachments&quot;: [],</span>
<span class="line">            &quot;completed_at&quot;: null,</span>
<span class="line">            &quot;content&quot;: [</span>
<span class="line">                {</span>
<span class="line">                    &quot;text&quot;: {</span>
<span class="line">                        &quot;annotations&quot;: [],</span>
<span class="line">                        &quot;value&quot;: &quot;æœ‰ä»€ä¹ˆå¯ä»¥å¸®æ‚¨ï¼Ÿ&quot;</span>
<span class="line">                    },</span>
<span class="line">                    &quot;type&quot;: &quot;text&quot;</span>
<span class="line">                }</span>
<span class="line">            ],</span>
<span class="line">            &quot;created_at&quot;: 1727181315,</span>
<span class="line">            &quot;incomplete_at&quot;: null,</span>
<span class="line">            &quot;incomplete_details&quot;: null,</span>
<span class="line">            &quot;metadata&quot;: {},</span>
<span class="line">            &quot;object&quot;: &quot;thread.message&quot;,</span>
<span class="line">            &quot;role&quot;: &quot;assistant&quot;,</span>
<span class="line">            &quot;run_id&quot;: null,</span>
<span class="line">            &quot;status&quot;: null,</span>
<span class="line">            &quot;thread_id&quot;: &quot;thread_bfsb24BRI9xgdFkEC8jD7KdN&quot;</span>
<span class="line">        },</span>
<span class="line">        {</span>
<span class="line">            &quot;id&quot;: &quot;msg_Paitr5C6MLJ7gVsYITTrKlef&quot;,</span>
<span class="line">            &quot;assistant_id&quot;: null,</span>
<span class="line">            &quot;attachments&quot;: [],</span>
<span class="line">            &quot;completed_at&quot;: null,</span>
<span class="line">            &quot;content&quot;: [</span>
<span class="line">                {</span>
<span class="line">                    &quot;text&quot;: {</span>
<span class="line">                        &quot;annotations&quot;: [],</span>
<span class="line">                        &quot;value&quot;: &quot;ä½ å¥½&quot;</span>
<span class="line">                    },</span>
<span class="line">                    &quot;type&quot;: &quot;text&quot;</span>
<span class="line">                }</span>
<span class="line">            ],</span>
<span class="line">            &quot;created_at&quot;: 1727181315,</span>
<span class="line">            &quot;incomplete_at&quot;: null,</span>
<span class="line">            &quot;incomplete_details&quot;: null,</span>
<span class="line">            &quot;metadata&quot;: {},</span>
<span class="line">            &quot;object&quot;: &quot;thread.message&quot;,</span>
<span class="line">            &quot;role&quot;: &quot;user&quot;,</span>
<span class="line">            &quot;run_id&quot;: null,</span>
<span class="line">            &quot;status&quot;: null,</span>
<span class="line">            &quot;thread_id&quot;: &quot;thread_bfsb24BRI9xgdFkEC8jD7KdN&quot;</span>
<span class="line">        }</span>
<span class="line">    ],</span>
<span class="line">    &quot;object&quot;: &quot;list&quot;,</span>
<span class="line">    &quot;first_id&quot;: &quot;msg_dI90Q3SDEvXA55seDIvbSn7U&quot;,</span>
<span class="line">    &quot;last_id&quot;: &quot;msg_Paitr5C6MLJ7gVsYITTrKlef&quot;,</span>
<span class="line">    &quot;has_more&quot;: false</span>
<span class="line">}</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿˜æœ‰å¦‚ä¸‹å‡½æ•°ï¼š</p><ol><li><code>threads.runs.list()</code> åˆ—å‡º thread å½’å±çš„ run</li><li><code>threads.runs.retrieve()</code> è·å– run</li><li><code>threads.runs.update()</code> ä¿®æ”¹ run çš„ metadata</li><li><code>threads.runs.cancel()</code> å–æ¶ˆ <code>in_progress</code> çŠ¶æ€çš„ run</li></ol><p>å…·ä½“æ–‡æ¡£å‚è€ƒï¼šhttps://platform.openai.com/docs/api-reference/runs</p><h3 id="_3-2ã€run-çš„çŠ¶æ€-é€‰" tabindex="-1"><a class="header-anchor" href="#_3-2ã€run-çš„çŠ¶æ€-é€‰"><span>3.2ã€Run çš„çŠ¶æ€ï¼ˆé€‰ï¼‰</span></a></h3><p>Run çš„åº•å±‚æ˜¯ä¸ªå¼‚æ­¥è°ƒç”¨ï¼Œæ„å‘³ç€å®ƒä¸ç­‰å¤§æ¨¡å‹å¤„ç†å®Œï¼Œå°±è¿”å›ã€‚æˆ‘ä»¬é€šè¿‡ <code>run.status</code> äº†è§£å¤§æ¨¡å‹çš„å·¥ä½œè¿›å±•æƒ…å†µï¼Œæ¥åˆ¤æ–­ä¸‹ä¸€æ­¥è¯¥å¹²ä»€ä¹ˆã€‚</p><p><code>run.status</code> æœ‰çš„çŠ¶æ€ï¼Œå’ŒçŠ¶æ€ä¹‹é—´çš„è½¬ç§»å…³ç³»å¦‚å›¾ã€‚</p><p><img src="/wiki/assets/img/statuses.5138517b.png" alt="image"></p><h3 id="_3-3ã€æµå¼è¿è¡Œ" tabindex="-1"><a class="header-anchor" href="#_3-3ã€æµå¼è¿è¡Œ"><span>3.3ã€æµå¼è¿è¡Œ</span></a></h3><ol><li>åˆ›å»ºå›è°ƒå‡½æ•°</li></ol><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line"><span class="token keyword">from</span> typing_extensions <span class="token keyword">import</span> override</span>
<span class="line"><span class="token keyword">from</span> openai <span class="token keyword">import</span> AssistantEventHandler</span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">EventHandler</span><span class="token punctuation">(</span>AssistantEventHandler<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token decorator annotation punctuation">@override</span></span>
<span class="line">    <span class="token keyword">def</span> <span class="token function">on_text_created</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> text<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token boolean">None</span><span class="token punctuation">:</span></span>
<span class="line">        <span class="token triple-quoted-string string">&quot;&quot;&quot;å“åº”è¾“å‡ºåˆ›å»ºäº‹ä»¶&quot;&quot;&quot;</span></span>
<span class="line">        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;\nassistant &gt; &quot;</span></span><span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> flush<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token decorator annotation punctuation">@override</span></span>
<span class="line">    <span class="token keyword">def</span> <span class="token function">on_text_delta</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> delta<span class="token punctuation">,</span> snapshot<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">        <span class="token triple-quoted-string string">&quot;&quot;&quot;å“åº”è¾“å‡ºç”Ÿæˆçš„æµç‰‡æ®µ&quot;&quot;&quot;</span></span>
<span class="line">        <span class="token keyword">print</span><span class="token punctuation">(</span>delta<span class="token punctuation">.</span>value<span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> flush<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>è¿è¡Œ run</li></ol><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line"><span class="token comment"># æ·»åŠ æ–°ä¸€è½®çš„ user message</span></span>
<span class="line">message <span class="token operator">=</span> client<span class="token punctuation">.</span>beta<span class="token punctuation">.</span>threads<span class="token punctuation">.</span>messages<span class="token punctuation">.</span>create<span class="token punctuation">(</span></span>
<span class="line">    thread_id<span class="token operator">=</span>thread<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">,</span></span>
<span class="line">    role<span class="token operator">=</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    content<span class="token operator">=</span><span class="token string">&quot;ä½ è¯´ä»€ä¹ˆï¼Ÿ&quot;</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">)</span></span>
<span class="line"><span class="token comment"># ä½¿ç”¨ stream æ¥å£å¹¶ä¼ å…¥ EventHandler</span></span>
<span class="line"><span class="token keyword">with</span> client<span class="token punctuation">.</span>beta<span class="token punctuation">.</span>threads<span class="token punctuation">.</span>runs<span class="token punctuation">.</span>stream<span class="token punctuation">(</span></span>
<span class="line">    thread_id<span class="token operator">=</span>thread<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">,</span></span>
<span class="line">    assistant_id<span class="token operator">=</span>assistant_id<span class="token punctuation">,</span></span>
<span class="line">    event_handler<span class="token operator">=</span>EventHandler<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">)</span> <span class="token keyword">as</span> stream<span class="token punctuation">:</span></span>
<span class="line">    stream<span class="token punctuation">.</span>until_done<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>Output:</strong></p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">assistant &gt; æˆ‘æ˜¯ç“œç“œï¼ŒAGIè¯¾å ‚çš„æ™ºèƒ½åŠ©ç†ã€‚æˆ‘å¯ä»¥å¸®åŠ©æ‚¨è§£ç­”ä¸AGIè¯¾å ‚ç›¸å…³çš„é—®é¢˜ï¼Œæ¯”å¦‚è¯¾ç¨‹å®‰æ’ã€å†…å®¹æŸ¥è¯¢ç­‰ã€‚å¦‚æœæ‚¨æœ‰ä»»ä½•é—®é¢˜æˆ–éœ€è¦å¸®åŠ©ï¼Œè¯·å‘Šè¯‰æˆ‘ï¼</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><blockquote><p>âš ï¸ <strong>Note:</strong> æ€è€ƒï¼š è¿›ä¸€æ­¥ç†è§£ run ä¸ thread çš„è®¾è®¡</p></blockquote><pre><code>æŠ›å¼€ Assistants APIï¼Œå‡è®¾ä½ è¦å¼€å‘ä»»æ„ä¸€ä¸ªå¤šè½®å¯¹è¯çš„ AI æœºå™¨äºº
ä»æ¶æ„è®¾è®¡çš„è§’åº¦ï¼Œåº”è¯¥æ€ä¹ˆç»´æŠ¤ç”¨æˆ·ã€å¯¹è¯å†å²ã€å¯¹è¯å¼•æ“ã€å¯¹è¯æœåŠ¡ï¼Ÿ
</code></pre><h2 id="å››ã€ä½¿ç”¨-tools" tabindex="-1"><a class="header-anchor" href="#å››ã€ä½¿ç”¨-tools"><span>å››ã€ä½¿ç”¨ Tools</span></a></h2><h3 id="_4-1ã€åˆ›å»º-assistant-æ—¶å£°æ˜-code-interpreter" tabindex="-1"><a class="header-anchor" href="#_4-1ã€åˆ›å»º-assistant-æ—¶å£°æ˜-code-interpreter"><span>4.1ã€åˆ›å»º Assistant æ—¶å£°æ˜ Code_Interpreter</span></a></h3><p>å¦‚æœç”¨ä»£ç åˆ›å»ºï¼š</p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line">assistant <span class="token operator">=</span> client<span class="token punctuation">.</span>beta<span class="token punctuation">.</span>assistants<span class="token punctuation">.</span>create<span class="token punctuation">(</span></span>
<span class="line">    name<span class="token operator">=</span><span class="token string">&quot;Demo Assistant&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    instructions<span class="token operator">=</span><span class="token string">&quot;ä½ æ˜¯äººå·¥æ™ºèƒ½åŠ©æ‰‹ã€‚ä½ å¯ä»¥é€šè¿‡ä»£ç å›ç­”å¾ˆå¤šæ•°å­¦é—®é¢˜ã€‚&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    tools<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;type&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;code_interpreter&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">    model<span class="token operator">=</span><span class="token string">&quot;gpt-4o&quot;</span></span>
<span class="line"><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨å›è°ƒä¸­åŠ å…¥ code_interpreter çš„äº‹ä»¶å“åº”</p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line"><span class="token keyword">from</span> typing_extensions <span class="token keyword">import</span> override</span>
<span class="line"><span class="token keyword">from</span> openai <span class="token keyword">import</span> AssistantEventHandler</span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">EventHandler</span><span class="token punctuation">(</span>AssistantEventHandler<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token decorator annotation punctuation">@override</span></span>
<span class="line">    <span class="token keyword">def</span> <span class="token function">on_text_created</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> text<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token boolean">None</span><span class="token punctuation">:</span></span>
<span class="line">        <span class="token triple-quoted-string string">&quot;&quot;&quot;å“åº”è¾“å‡ºåˆ›å»ºäº‹ä»¶&quot;&quot;&quot;</span></span>
<span class="line">        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;\nassistant &gt; &quot;</span></span><span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> flush<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token decorator annotation punctuation">@override</span></span>
<span class="line">    <span class="token keyword">def</span> <span class="token function">on_text_delta</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> delta<span class="token punctuation">,</span> snapshot<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">        <span class="token triple-quoted-string string">&quot;&quot;&quot;å“åº”è¾“å‡ºç”Ÿæˆçš„æµç‰‡æ®µ&quot;&quot;&quot;</span></span>
<span class="line">        <span class="token keyword">print</span><span class="token punctuation">(</span>delta<span class="token punctuation">.</span>value<span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> flush<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token decorator annotation punctuation">@override</span></span>
<span class="line">    <span class="token keyword">def</span> <span class="token function">on_tool_call_created</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> tool_call<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">        <span class="token triple-quoted-string string">&quot;&quot;&quot;å“åº”å·¥å…·è°ƒç”¨&quot;&quot;&quot;</span></span>
<span class="line">        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;\nassistant &gt; </span><span class="token interpolation"><span class="token punctuation">{</span>tool_call<span class="token punctuation">.</span><span class="token builtin">type</span><span class="token punctuation">}</span></span><span class="token string">\n&quot;</span></span><span class="token punctuation">,</span> flush<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token decorator annotation punctuation">@override</span></span>
<span class="line">    <span class="token keyword">def</span> <span class="token function">on_tool_call_delta</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> delta<span class="token punctuation">,</span> snapshot<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">        <span class="token triple-quoted-string string">&quot;&quot;&quot;å“åº”å·¥å…·è°ƒç”¨çš„æµç‰‡æ®µ&quot;&quot;&quot;</span></span>
<span class="line">        <span class="token keyword">if</span> delta<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> <span class="token string">&#39;code_interpreter&#39;</span><span class="token punctuation">:</span></span>
<span class="line">            <span class="token keyword">if</span> delta<span class="token punctuation">.</span>code_interpreter<span class="token punctuation">.</span><span class="token builtin">input</span><span class="token punctuation">:</span></span>
<span class="line">                <span class="token keyword">print</span><span class="token punctuation">(</span>delta<span class="token punctuation">.</span>code_interpreter<span class="token punctuation">.</span><span class="token builtin">input</span><span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> flush<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token keyword">if</span> delta<span class="token punctuation">.</span>code_interpreter<span class="token punctuation">.</span>outputs<span class="token punctuation">:</span></span>
<span class="line">            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;\n\noutput &gt;&quot;</span></span><span class="token punctuation">,</span> flush<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token keyword">for</span> output <span class="token keyword">in</span> delta<span class="token punctuation">.</span>code_interpreter<span class="token punctuation">.</span>outputs<span class="token punctuation">:</span></span>
<span class="line">                <span class="token keyword">if</span> output<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> <span class="token string">&quot;logs&quot;</span><span class="token punctuation">:</span></span>
<span class="line">                    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;\n</span><span class="token interpolation"><span class="token punctuation">{</span>output<span class="token punctuation">.</span>logs<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">,</span> flush<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å‘ä¸ª Code Interpreter è¯·æ±‚</p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line"><span class="token comment"># åˆ›å»º thread</span></span>
<span class="line">thread <span class="token operator">=</span> client<span class="token punctuation">.</span>beta<span class="token punctuation">.</span>threads<span class="token punctuation">.</span>create<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># æ·»åŠ æ–°ä¸€è½®çš„ user message</span></span>
<span class="line">message <span class="token operator">=</span> client<span class="token punctuation">.</span>beta<span class="token punctuation">.</span>threads<span class="token punctuation">.</span>messages<span class="token punctuation">.</span>create<span class="token punctuation">(</span></span>
<span class="line">    thread_id<span class="token operator">=</span>thread<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">,</span></span>
<span class="line">    role<span class="token operator">=</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    content<span class="token operator">=</span><span class="token string">&quot;ç”¨ä»£ç è®¡ç®— 1234567 çš„å¹³æ–¹æ ¹&quot;</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">)</span></span>
<span class="line"><span class="token comment"># ä½¿ç”¨ stream æ¥å£å¹¶ä¼ å…¥ EventHandler</span></span>
<span class="line"><span class="token keyword">with</span> client<span class="token punctuation">.</span>beta<span class="token punctuation">.</span>threads<span class="token punctuation">.</span>runs<span class="token punctuation">.</span>stream<span class="token punctuation">(</span></span>
<span class="line">    thread_id<span class="token operator">=</span>thread<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">,</span></span>
<span class="line">    assistant_id<span class="token operator">=</span>assistant_id<span class="token punctuation">,</span></span>
<span class="line">    event_handler<span class="token operator">=</span>EventHandler<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">)</span> <span class="token keyword">as</span> stream<span class="token punctuation">:</span></span>
<span class="line">    stream<span class="token punctuation">.</span>until_done<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>Output:</strong></p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">assistant &gt; code_interpreter</span>
<span class="line"></span>
<span class="line">import math</span>
<span class="line"></span>
<span class="line"># Calculate the square root of 1234567</span>
<span class="line">sqrt_value = math.sqrt(1234567)</span>
<span class="line">sqrt_value</span>
<span class="line">assistant &gt; 1234567 çš„å¹³æ–¹æ ¹æ˜¯çº¦ 1111.11ã€‚</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-1-1ã€code-interpreter-æ“ä½œæ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#_4-1-1ã€code-interpreter-æ“ä½œæ–‡ä»¶"><span>4.1.1ã€Code_Interpreter æ“ä½œæ–‡ä»¶</span></a></h3><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line"><span class="token comment"># ä¸Šä¼ æ–‡ä»¶åˆ° OpenAI</span></span>
<span class="line"><span class="token builtin">file</span> <span class="token operator">=</span> client<span class="token punctuation">.</span>files<span class="token punctuation">.</span>create<span class="token punctuation">(</span></span>
<span class="line">    <span class="token builtin">file</span><span class="token operator">=</span><span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">&quot;mydata.csv&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;rb&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">    purpose<span class="token operator">=</span><span class="token string">&#39;assistants&#39;</span></span>
<span class="line"><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># åˆ›å»º assistant</span></span>
<span class="line">my_assistant <span class="token operator">=</span> client<span class="token punctuation">.</span>beta<span class="token punctuation">.</span>assistants<span class="token punctuation">.</span>create<span class="token punctuation">(</span></span>
<span class="line">    name<span class="token operator">=</span><span class="token string">&quot;CodeInterpreterWithFileDemo&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    instructions<span class="token operator">=</span><span class="token string">&quot;ä½ æ˜¯æ•°æ®åˆ†æå¸ˆï¼ŒæŒ‰è¦æ±‚åˆ†ææ•°æ®ã€‚&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    model<span class="token operator">=</span><span class="token string">&quot;gpt-4o&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    tools<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;type&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;code_interpreter&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">    tool_resources<span class="token operator">=</span><span class="token punctuation">{</span></span>
<span class="line">        <span class="token string">&quot;code_interpreter&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span></span>
<span class="line">          <span class="token string">&quot;file_ids&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token builtin">file</span><span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">]</span>  <span class="token comment"># ä¸º code_interpreter å…³è”æ–‡ä»¶</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line"><span class="token comment"># åˆ›å»º thread</span></span>
<span class="line">thread <span class="token operator">=</span> client<span class="token punctuation">.</span>beta<span class="token punctuation">.</span>threads<span class="token punctuation">.</span>create<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># æ·»åŠ æ–°ä¸€è½®çš„ user message</span></span>
<span class="line">message <span class="token operator">=</span> client<span class="token punctuation">.</span>beta<span class="token punctuation">.</span>threads<span class="token punctuation">.</span>messages<span class="token punctuation">.</span>create<span class="token punctuation">(</span></span>
<span class="line">    thread_id<span class="token operator">=</span>thread<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">,</span></span>
<span class="line">    role<span class="token operator">=</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    content<span class="token operator">=</span><span class="token string">&quot;ç»Ÿè®¡csvæ–‡ä»¶ä¸­çš„æ€»é”€å”®é¢&quot;</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">)</span></span>
<span class="line"><span class="token comment"># ä½¿ç”¨ stream æ¥å£å¹¶ä¼ å…¥ EventHandler</span></span>
<span class="line"><span class="token keyword">with</span> client<span class="token punctuation">.</span>beta<span class="token punctuation">.</span>threads<span class="token punctuation">.</span>runs<span class="token punctuation">.</span>stream<span class="token punctuation">(</span></span>
<span class="line">    thread_id<span class="token operator">=</span>thread<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">,</span></span>
<span class="line">    assistant_id<span class="token operator">=</span>my_assistant<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">,</span></span>
<span class="line">    event_handler<span class="token operator">=</span>EventHandler<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">)</span> <span class="token keyword">as</span> stream<span class="token punctuation">:</span></span>
<span class="line">    stream<span class="token punctuation">.</span>until_done<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>Output:</strong></p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">assistant &gt; è®©æˆ‘ä»¬å…ˆè¯»å–æ‚¨ä¸Šä¼ çš„CSVæ–‡ä»¶ï¼Œå¹¶æŸ¥çœ‹å…¶å†…å®¹ä»¥ç†è§£æ•°æ®ç»“æ„ã€‚æ¥ç€ï¼Œæˆ‘ä¼šç»Ÿè®¡å‡ºæ€»é”€å”®é¢ã€‚</span>
<span class="line">assistant &gt; code_interpreter</span>
<span class="line"></span>
<span class="line">import pandas as pd</span>
<span class="line"></span>
<span class="line"># åŠ è½½ç”¨æˆ·ä¸Šä¼ çš„CSVæ–‡ä»¶</span>
<span class="line">file_path = &#39;/mnt/data/file-DbKPWWPin0rnhpYAEgtVlYYi&#39;</span>
<span class="line">df = pd.read_csv(file_path)</span>
<span class="line"></span>
<span class="line"># æ˜¾ç¤ºæ•°æ®çš„å‰å‡ è¡Œä»¥äº†è§£æ–‡ä»¶çš„ç»“æ„</span>
<span class="line">df.head(), df.columns</span>
<span class="line">assistant &gt; ä»æ•°æ®çš„å‰å‡ è¡Œå’Œåˆ—åå¯ä»¥çœ‹å‡ºï¼ŒCSVæ–‡ä»¶åŒ…å«ä»¥ä¸‹åˆ—ï¼š</span>
<span class="line"></span>
<span class="line">- `Product Name`: äº§å“åç§°</span>
<span class="line">- `Unit Price`: å•ä»·</span>
<span class="line">- `Quantity Sold`: é”€å”®æ•°é‡</span>
<span class="line"></span>
<span class="line">æˆ‘ä»¬å¯ä»¥é€šè¿‡è®¡ç®— `Unit Price` å’Œ `Quantity Sold` çš„ä¹˜ç§¯æ¥æ±‚å¾—æ¯ä¸ªäº§å“çš„é”€å”®é¢ï¼Œç„¶åæ±‚å’Œä»¥å¾—åˆ°æ€»é”€å”®é¢ã€‚è®©æˆ‘ä»¬æ¥è®¡ç®—ä¸€ä¸‹ã€‚# è®¡ç®—æ¯ä¸ªäº§å“çš„é”€å”®é¢</span>
<span class="line">df[&#39;Total Sales&#39;] = df[&#39;Unit Price&#39;] * df[&#39;Quantity Sold&#39;]</span>
<span class="line"></span>
<span class="line"># è®¡ç®—æ€»é”€å”®é¢</span>
<span class="line">total_sales = df[&#39;Total Sales&#39;].sum()</span>
<span class="line">total_sales</span>
<span class="line">assistant &gt; æ ¹æ®æ•°æ®è®¡ç®—ï¼Œæ€»é”€å”®é¢ä¸º \(182,100\) å…ƒã€‚</span>
<span class="line"></span>
<span class="line">å¦‚æœæ‚¨éœ€è¦è¿›ä¸€æ­¥çš„åˆ†ææˆ–æœ‰å…¶ä»–é—®é¢˜ï¼Œè¯·å‘Šè¯‰æˆ‘ï¼</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-2ã€åˆ›å»º-assistant-æ—¶å£°æ˜-function" tabindex="-1"><a class="header-anchor" href="#_4-2ã€åˆ›å»º-assistant-æ—¶å£°æ˜-function"><span>4.2ã€åˆ›å»º Assistant æ—¶å£°æ˜ Function</span></a></h3><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line">assistant <span class="token operator">=</span> client<span class="token punctuation">.</span>beta<span class="token punctuation">.</span>assistants<span class="token punctuation">.</span>create<span class="token punctuation">(</span></span>
<span class="line">  instructions<span class="token operator">=</span><span class="token string">&quot;ä½ å«ç“œç“œã€‚ä½ æ˜¯AGIè¯¾å ‚çš„åŠ©æ‰‹ã€‚ä½ åªå›ç­”è·ŸAIå¤§æ¨¡å‹æœ‰å…³çš„é—®é¢˜ã€‚ä¸è¦è·Ÿå­¦ç”Ÿé—²èŠã€‚æ¯æ¬¡å›ç­”é—®é¢˜å‰ï¼Œä½ è¦æ‹†è§£é—®é¢˜å¹¶è¾“å‡ºä¸€æ­¥ä¸€æ­¥çš„æ€è€ƒè¿‡ç¨‹ã€‚&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  model<span class="token operator">=</span><span class="token string">&quot;gpt-4o&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  tools<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">{</span></span>
<span class="line">    <span class="token string">&quot;type&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;function&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string">&quot;function&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;course_info&quot;</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token string">&quot;description&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;ç”¨äºæŸ¥çœ‹å…·ä½“è¯¾ç¨‹ä¿¡æ¯ï¼ŒåŒ…æ‹¬æ—¶é—´è¡¨ï¼Œé¢˜ç›®ï¼Œè®²å¸ˆï¼Œç­‰ç­‰ã€‚Functionè¾“å…¥å¿…é¡»æ˜¯ä¸€ä¸ªåˆæ³•çš„SQLè¡¨è¾¾å¼ã€‚&quot;</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token string">&quot;parameters&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token string">&quot;type&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;object&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token string">&quot;properties&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span></span>
<span class="line">          <span class="token string">&quot;query&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token string">&quot;type&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token string">&quot;description&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;SQL query extracting info to answer the user&#39;s question.\nSQL should be written using this database schema:\n\nCREATE TABLE Courses (\n\tid INT AUTO_INCREMENT PRIMARY KEY,\n\tcourse_date DATE NOT NULL,\n\tstart_time TIME NOT NULL,\n\tend_time TIME NOT NULL,\n\tcourse_name VARCHAR(255) NOT NULL,\n\tinstructor VARCHAR(255) NOT NULL\n);\n\nThe query should be returned in plain text, not in JSON.\nThe query should only contain grammars supported by SQLite.&quot;</span></span>
<span class="line">          <span class="token punctuation">}</span></span>
<span class="line">        <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token string">&quot;required&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span></span>
<span class="line">          <span class="token string">&quot;query&quot;</span></span>
<span class="line">        <span class="token punctuation">]</span></span>
<span class="line">      <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">]</span></span>
<span class="line"><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åˆ›å»ºä¸€ä¸ª Function</p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line"><span class="token comment"># å®šä¹‰æœ¬åœ°å‡½æ•°å’Œæ•°æ®åº“</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">import</span> sqlite3</span>
<span class="line"></span>
<span class="line"><span class="token comment"># åˆ›å»ºæ•°æ®åº“è¿æ¥</span></span>
<span class="line">conn <span class="token operator">=</span> sqlite3<span class="token punctuation">.</span>connect<span class="token punctuation">(</span><span class="token string">&#39;:memory:&#39;</span><span class="token punctuation">)</span></span>
<span class="line">cursor <span class="token operator">=</span> conn<span class="token punctuation">.</span>cursor<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># åˆ›å»ºordersè¡¨</span></span>
<span class="line">cursor<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><span class="token triple-quoted-string string">&quot;&quot;&quot;</span>
<span class="line">CREATE TABLE Courses (</span>
<span class="line">    id INT AUTO_INCREMENT PRIMARY KEY,</span>
<span class="line">    course_date DATE NOT NULL,</span>
<span class="line">    start_time TIME NOT NULL,</span>
<span class="line">    end_time TIME NOT NULL,</span>
<span class="line">    course_name VARCHAR(255) NOT NULL,</span>
<span class="line">    instructor VARCHAR(255) NOT NULL</span>
<span class="line">);</span>
<span class="line">&quot;&quot;&quot;</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># æ’å…¥5æ¡æ˜ç¡®çš„æ¨¡æ‹Ÿè®°å½•</span></span>
<span class="line">timetable <span class="token operator">=</span> <span class="token punctuation">[</span></span>
<span class="line">    <span class="token punctuation">(</span><span class="token string">&#39;2024-01-23&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;20:00&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;22:00&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;å¤§æ¨¡å‹åº”ç”¨å¼€å‘åŸºç¡€&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;å­™å¿—å²—&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">(</span><span class="token string">&#39;2024-01-25&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;20:00&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;22:00&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;Prompt Engineering&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;å­™å¿—å²—&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">(</span><span class="token string">&#39;2024-01-29&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;20:00&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;22:00&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;èµ è¯¾ï¼šè½¯ä»¶å¼€å‘åŸºç¡€æ¦‚å¿µä¸ç¯å¢ƒæ­å»º&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;è¥¿æ ‘&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">(</span><span class="token string">&#39;2024-02-20&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;20:00&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;22:00&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;ä»AIç¼–ç¨‹è®¤çŸ¥AI&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;æ—æ™“é‘«&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">(</span><span class="token string">&#39;2024-02-22&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;20:00&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;22:00&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;Function Calling&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;å­™å¿—å²—&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">(</span><span class="token string">&#39;2024-02-29&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;20:00&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;22:00&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;RAGå’ŒEmbeddings&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;ç‹å“ç„¶&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">(</span><span class="token string">&#39;2024-03-05&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;20:00&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;22:00&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;Assistants API&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;ç‹å“ç„¶&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">(</span><span class="token string">&#39;2024-03-07&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;20:00&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;22:00&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;Semantic Kernel&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;ç‹å“ç„¶&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">(</span><span class="token string">&#39;2024-03-14&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;20:00&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;22:00&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;LangChain&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;ç‹å“ç„¶&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">(</span><span class="token string">&#39;2024-03-19&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;20:00&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;22:00&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;LLMåº”ç”¨å¼€å‘å·¥å…·é“¾&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;ç‹å“ç„¶&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">(</span><span class="token string">&#39;2024-03-21&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;20:00&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;22:00&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;æ‰‹æ’• AutoGPT&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;ç‹å“ç„¶&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">(</span><span class="token string">&#39;2024-03-26&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;20:00&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;22:00&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;æ¨¡å‹å¾®è°ƒï¼ˆä¸Šï¼‰&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;ç‹å“ç„¶&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">(</span><span class="token string">&#39;2024-03-28&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;20:00&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;22:00&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;æ¨¡å‹å¾®è°ƒï¼ˆä¸‹ï¼‰&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;ç‹å“ç„¶&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">(</span><span class="token string">&#39;2024-04-09&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;20:00&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;22:00&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;å¤šæ¨¡æ€å¤§æ¨¡å‹ï¼ˆä¸Šï¼‰&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;å¤šè€å¸ˆ&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">(</span><span class="token string">&#39;2024-04-11&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;20:00&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;22:00&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;å¤šæ¨¡æ€å¤§æ¨¡å‹ï¼ˆä¸­ï¼‰&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;å¤šè€å¸ˆ&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">(</span><span class="token string">&#39;2024-04-16&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;20:00&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;22:00&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;å¤šæ¨¡æ€å¤§æ¨¡å‹ï¼ˆä¸‹ï¼‰&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;å¤šè€å¸ˆ&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">(</span><span class="token string">&#39;2024-04-18&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;20:00&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;22:00&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;AIäº§å“éƒ¨ç½²å’Œäº¤ä»˜ï¼ˆä¸Šï¼‰&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;ç‹æ ‘å†¬&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">(</span><span class="token string">&#39;2024-04-23&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;20:00&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;22:00&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;AIäº§å“éƒ¨ç½²å’Œäº¤ä»˜ï¼ˆä¸‹ï¼‰&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;ç‹æ ‘å†¬&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">(</span><span class="token string">&#39;2024-04-25&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;20:00&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;22:00&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;æŠ“ä½å¤§æ¨¡å‹æ—¶ä»£çš„åˆ›ä¸šæœºé‡&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;å­™å¿—å²—&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">(</span><span class="token string">&#39;2024-05-07&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;20:00&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;22:00&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;äº§å“è¿è¥å’Œä¸šåŠ¡æ²Ÿé€š&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;å­™å¿—å²—&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">(</span><span class="token string">&#39;2024-05-09&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;20:00&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;22:00&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;äº§å“è®¾è®¡&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;å­™å¿—å²—&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">(</span><span class="token string">&#39;2024-05-14&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;20:00&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;22:00&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;é¡¹ç›®æ–¹æ¡ˆåˆ†æä¸è®¾è®¡&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;ç‹å“ç„¶&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">]</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">for</span> record <span class="token keyword">in</span> timetable<span class="token punctuation">:</span></span>
<span class="line">    cursor<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><span class="token triple-quoted-string string">&#39;&#39;&#39;</span>
<span class="line">    INSERT INTO Courses (course_date, start_time, end_time, course_name, instructor)</span>
<span class="line">    VALUES (?, ?, ?, ?, ?)</span>
<span class="line">    &#39;&#39;&#39;</span><span class="token punctuation">,</span> record<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># æäº¤äº‹åŠ¡</span></span>
<span class="line">conn<span class="token punctuation">.</span>commit<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span class="token keyword">def</span> <span class="token function">query_database</span><span class="token punctuation">(</span>query<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    cursor<span class="token punctuation">.</span>execute<span class="token punctuation">(</span>query<span class="token punctuation">)</span></span>
<span class="line">    records <span class="token operator">=</span> cursor<span class="token punctuation">.</span>fetchall<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">return</span> <span class="token builtin">str</span><span class="token punctuation">(</span>records<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span class="token comment"># å¯ä»¥è¢«å›è°ƒçš„å‡½æ•°æ”¾å…¥æ­¤å­—å…¸</span></span>
<span class="line">available_functions <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token string">&quot;course_info&quot;</span><span class="token punctuation">:</span> query_database<span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¢åŠ å›è°ƒäº‹ä»¶çš„å“åº”</p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line"><span class="token keyword">from</span> typing_extensions <span class="token keyword">import</span> override</span>
<span class="line"><span class="token keyword">from</span> openai <span class="token keyword">import</span> AssistantEventHandler</span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">EventHandler</span><span class="token punctuation">(</span>AssistantEventHandler<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token decorator annotation punctuation">@override</span></span>
<span class="line">    <span class="token keyword">def</span> <span class="token function">on_text_created</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> text<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token boolean">None</span><span class="token punctuation">:</span></span>
<span class="line">        <span class="token triple-quoted-string string">&quot;&quot;&quot;å“åº”å›å¤åˆ›å»ºäº‹ä»¶&quot;&quot;&quot;</span></span>
<span class="line">        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;\nassistant &gt; &quot;</span></span><span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> flush<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token decorator annotation punctuation">@override</span></span>
<span class="line">    <span class="token keyword">def</span> <span class="token function">on_text_delta</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> delta<span class="token punctuation">,</span> snapshot<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">        <span class="token triple-quoted-string string">&quot;&quot;&quot;å“åº”è¾“å‡ºç”Ÿæˆçš„æµç‰‡æ®µ&quot;&quot;&quot;</span></span>
<span class="line">        <span class="token keyword">print</span><span class="token punctuation">(</span>delta<span class="token punctuation">.</span>value<span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> flush<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token decorator annotation punctuation">@override</span></span>
<span class="line">    <span class="token keyword">def</span> <span class="token function">on_tool_call_created</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> tool_call<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">        <span class="token triple-quoted-string string">&quot;&quot;&quot;å“åº”å·¥å…·è°ƒç”¨&quot;&quot;&quot;</span></span>
<span class="line">        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;\nassistant &gt; </span><span class="token interpolation"><span class="token punctuation">{</span>tool_call<span class="token punctuation">.</span><span class="token builtin">type</span><span class="token punctuation">}</span></span><span class="token string">\n&quot;</span></span><span class="token punctuation">,</span> flush<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token decorator annotation punctuation">@override</span></span>
<span class="line">    <span class="token keyword">def</span> <span class="token function">on_tool_call_delta</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> delta<span class="token punctuation">,</span> snapshot<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">        <span class="token triple-quoted-string string">&quot;&quot;&quot;å“åº”å·¥å…·è°ƒç”¨çš„æµç‰‡æ®µ&quot;&quot;&quot;</span></span>
<span class="line">        <span class="token keyword">if</span> delta<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> <span class="token string">&#39;code_interpreter&#39;</span><span class="token punctuation">:</span></span>
<span class="line">            <span class="token keyword">if</span> delta<span class="token punctuation">.</span>code_interpreter<span class="token punctuation">.</span><span class="token builtin">input</span><span class="token punctuation">:</span></span>
<span class="line">                <span class="token keyword">print</span><span class="token punctuation">(</span>delta<span class="token punctuation">.</span>code_interpreter<span class="token punctuation">.</span><span class="token builtin">input</span><span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> flush<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token keyword">if</span> delta<span class="token punctuation">.</span>code_interpreter<span class="token punctuation">.</span>outputs<span class="token punctuation">:</span></span>
<span class="line">                <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;\n\noutput &gt;&quot;</span></span><span class="token punctuation">,</span> flush<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span></span>
<span class="line">                <span class="token keyword">for</span> output <span class="token keyword">in</span> delta<span class="token punctuation">.</span>code_interpreter<span class="token punctuation">.</span>outputs<span class="token punctuation">:</span></span>
<span class="line">                    <span class="token keyword">if</span> output<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> <span class="token string">&quot;logs&quot;</span><span class="token punctuation">:</span></span>
<span class="line">                        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;\n</span><span class="token interpolation"><span class="token punctuation">{</span>output<span class="token punctuation">.</span>logs<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">,</span> flush<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token decorator annotation punctuation">@override</span></span>
<span class="line">    <span class="token keyword">def</span> <span class="token function">on_event</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> event<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">        <span class="token triple-quoted-string string">&quot;&quot;&quot;</span>
<span class="line">        å“åº” &#39;requires_action&#39; äº‹ä»¶</span>
<span class="line">        &quot;&quot;&quot;</span></span>
<span class="line">        <span class="token keyword">if</span> event<span class="token punctuation">.</span>event <span class="token operator">==</span> <span class="token string">&#39;thread.run.requires_action&#39;</span><span class="token punctuation">:</span></span>
<span class="line">            run_id <span class="token operator">=</span> event<span class="token punctuation">.</span>data<span class="token punctuation">.</span><span class="token builtin">id</span>  <span class="token comment"># è·å– run ID</span></span>
<span class="line">            self<span class="token punctuation">.</span>handle_requires_action<span class="token punctuation">(</span>event<span class="token punctuation">.</span>data<span class="token punctuation">,</span> run_id<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">def</span> <span class="token function">handle_requires_action</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> data<span class="token punctuation">,</span> run_id<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">        tool_outputs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span></span>
<span class="line"></span>
<span class="line">        <span class="token keyword">for</span> tool <span class="token keyword">in</span> data<span class="token punctuation">.</span>required_action<span class="token punctuation">.</span>submit_tool_outputs<span class="token punctuation">.</span>tool_calls<span class="token punctuation">:</span></span>
<span class="line">            arguments <span class="token operator">=</span> json<span class="token punctuation">.</span>loads<span class="token punctuation">(</span>tool<span class="token punctuation">.</span>function<span class="token punctuation">.</span>arguments<span class="token punctuation">)</span></span>
<span class="line">            <span class="token keyword">print</span><span class="token punctuation">(</span></span>
<span class="line">                <span class="token string-interpolation"><span class="token string">f&quot;</span><span class="token interpolation"><span class="token punctuation">{</span>tool<span class="token punctuation">.</span>function<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string">(</span><span class="token interpolation"><span class="token punctuation">{</span>arguments<span class="token punctuation">}</span></span><span class="token string">)&quot;</span></span><span class="token punctuation">,</span></span>
<span class="line">                flush<span class="token operator">=</span><span class="token boolean">True</span></span>
<span class="line">            <span class="token punctuation">)</span></span>
<span class="line">            <span class="token comment"># è¿è¡Œ function</span></span>
<span class="line">            tool_outputs<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">                <span class="token string">&quot;tool_call_id&quot;</span><span class="token punctuation">:</span> tool<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">,</span></span>
<span class="line">                <span class="token string">&quot;output&quot;</span><span class="token punctuation">:</span> available_functions<span class="token punctuation">[</span>tool<span class="token punctuation">.</span>function<span class="token punctuation">.</span>name<span class="token punctuation">]</span><span class="token punctuation">(</span></span>
<span class="line">                    <span class="token operator">**</span>arguments</span>
<span class="line">                <span class="token punctuation">)</span><span class="token punctuation">}</span></span>
<span class="line">            <span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">        <span class="token comment"># æäº¤ function çš„ç»“æœï¼Œå¹¶ç»§ç»­è¿è¡Œ run</span></span>
<span class="line">        self<span class="token punctuation">.</span>submit_tool_outputs<span class="token punctuation">(</span>tool_outputs<span class="token punctuation">,</span> run_id<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">def</span> <span class="token function">submit_tool_outputs</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> tool_outputs<span class="token punctuation">,</span> run_id<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">        <span class="token triple-quoted-string string">&quot;&quot;&quot;æäº¤functionç»“æœï¼Œå¹¶ç»§ç»­æµ&quot;&quot;&quot;</span></span>
<span class="line">        <span class="token keyword">with</span> client<span class="token punctuation">.</span>beta<span class="token punctuation">.</span>threads<span class="token punctuation">.</span>runs<span class="token punctuation">.</span>submit_tool_outputs_stream<span class="token punctuation">(</span></span>
<span class="line">            thread_id<span class="token operator">=</span>self<span class="token punctuation">.</span>current_run<span class="token punctuation">.</span>thread_id<span class="token punctuation">,</span></span>
<span class="line">            run_id<span class="token operator">=</span>self<span class="token punctuation">.</span>current_run<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">,</span></span>
<span class="line">            tool_outputs<span class="token operator">=</span>tool_outputs<span class="token punctuation">,</span></span>
<span class="line">            event_handler<span class="token operator">=</span>EventHandler<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token punctuation">)</span> <span class="token keyword">as</span> stream<span class="token punctuation">:</span></span>
<span class="line">            stream<span class="token punctuation">.</span>until_done<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line"><span class="token comment"># åˆ›å»º thread</span></span>
<span class="line">thread <span class="token operator">=</span> client<span class="token punctuation">.</span>beta<span class="token punctuation">.</span>threads<span class="token punctuation">.</span>create<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># æ·»åŠ  user message</span></span>
<span class="line">message <span class="token operator">=</span> client<span class="token punctuation">.</span>beta<span class="token punctuation">.</span>threads<span class="token punctuation">.</span>messages<span class="token punctuation">.</span>create<span class="token punctuation">(</span></span>
<span class="line">    thread_id<span class="token operator">=</span>thread<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">,</span></span>
<span class="line">    role<span class="token operator">=</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    content<span class="token operator">=</span><span class="token string">&quot;å¹³å‡ä¸€å ‚è¯¾é•¿æ—¶é—´&quot;</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">)</span></span>
<span class="line"><span class="token comment"># ä½¿ç”¨ stream æ¥å£å¹¶ä¼ å…¥ EventHandler</span></span>
<span class="line"><span class="token keyword">with</span> client<span class="token punctuation">.</span>beta<span class="token punctuation">.</span>threads<span class="token punctuation">.</span>runs<span class="token punctuation">.</span>stream<span class="token punctuation">(</span></span>
<span class="line">    thread_id<span class="token operator">=</span>thread<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">,</span></span>
<span class="line">    assistant_id<span class="token operator">=</span>assistant<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">,</span></span>
<span class="line">    event_handler<span class="token operator">=</span>EventHandler<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">)</span> <span class="token keyword">as</span> stream<span class="token punctuation">:</span></span>
<span class="line">    stream<span class="token punctuation">.</span>until_done<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>Output:</strong></p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">assistant &gt; ä¸ºäº†è®¡ç®—ä¸€å ‚è¯¾çš„å¹³å‡æ—¶é•¿ï¼Œæˆ‘éœ€è¦çŸ¥é“æ¯å ‚è¯¾çš„å¼€å§‹å’Œç»“æŸæ—¶é—´ã€‚æ¥ä¸‹æ¥æˆ‘ä¼šæ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼š</span>
<span class="line"></span>
<span class="line">1. è·å–æ‰€æœ‰è¯¾ç¨‹çš„å¼€å§‹æ—¶é—´å’Œç»“æŸæ—¶é—´ã€‚</span>
<span class="line">2. è®¡ç®—æ¯å ‚è¯¾çš„æ—¶é•¿ã€‚</span>
<span class="line">3. è®¡ç®—è¿™äº›æ—¶é•¿çš„å¹³å‡å€¼ã€‚</span>
<span class="line"></span>
<span class="line">é¦–å…ˆï¼Œæ‹†è§£é—®é¢˜å¹¶å½¢æˆæŸ¥è¯¢è¯­å¥ï¼Œä»¥è·å–è¯¾ç¨‹ä¿¡æ¯ã€‚</span>
<span class="line"></span>
<span class="line">## æ­¥éª¤ï¼š</span>
<span class="line">1. ç¼–å†™SQLæŸ¥è¯¢æ¥è·å–æ‰€æœ‰è¯¾ç¨‹çš„å¼€å§‹æ—¶é—´å’Œç»“æŸæ—¶é—´ã€‚</span>
<span class="line"></span>
<span class="line">```sql</span>
<span class="line">SELECT start_time, end_time FROM Courses;</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>ä½¿ç”¨è·å–çš„æ•°æ®æ¥è®¡ç®—æ¯å ‚è¯¾çš„æ—¶é•¿ã€‚</li><li>è®¡ç®—è¿™äº›æ—¶é•¿çš„å¹³å‡å€¼ã€‚</li></ol><p>ç°åœ¨æˆ‘å°†æ‰§è¡Œç¬¬1æ­¥ï¼Œæ£€ç´¢æ‰€æœ‰è¯¾ç¨‹çš„å¼€å§‹å’Œç»“æŸæ—¶é—´ã€‚ assistant &gt; function</p><p>course_info({&#39;query&#39;: &#39;SELECT start_time, end_time FROM Courses;&#39;})</p><p>assistant &gt; é€šè¿‡è·å–çš„æ•°æ®ï¼Œå¯ä»¥çœ‹åˆ°æ‰€æœ‰è¯¾ç¨‹çš„å¼€å§‹æ—¶é—´å’Œç»“æŸæ—¶é—´éƒ½å¾ˆä¸€è‡´ï¼ˆä»20:00åˆ°22:00ï¼‰ã€‚æ¥ä¸‹æ¥ï¼Œè®¡ç®—æ¯å ‚è¯¾çš„æ—¶é•¿åŠå…¶å¹³å‡å€¼ã€‚</p><ol><li><p>ä¸€å ‚è¯¾çš„æ—¶é•¿ï¼š</p><ul><li>ç»“æŸæ—¶é—´ï¼š22:00</li><li>å¼€å§‹æ—¶é—´ï¼š20:00</li><li>æ—¶é•¿ = 22:00 - 20:00 = 2å°æ—¶</li></ul></li><li><p>ç”±äºæ‰€æœ‰è¯¾ç¨‹çš„æ—¶é•¿éƒ½ä¸€æ ·ï¼Œæ‰€ä»¥å¹³å‡æ—¶é•¿ä¹Ÿå°±æ˜¯æ¯å ‚è¯¾çš„æ—¶é•¿ï¼Œå³ï¼š</p><ul><li>å¹³å‡æ—¶é•¿ = 2å°æ—¶</li></ul></li></ol><p>å› æ­¤ï¼Œå¹³å‡ä¸€å ‚è¯¾çš„æ—¶é•¿ä¸º2å°æ—¶ã€‚</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line"></span>
<span class="line">### 4.3ã€ä¸¤ä¸ªæ— ä¾èµ–çš„ function ä¼šåœ¨ä¸€æ¬¡è¯·æ±‚ä¸­ä¸€èµ·è¢«è°ƒç”¨</span>
<span class="line"></span>
<span class="line">```python</span>
<span class="line"># åˆ›å»º thread</span>
<span class="line">thread = client.beta.threads.create()</span>
<span class="line"></span>
<span class="line"># æ·»åŠ  user message</span>
<span class="line">message = client.beta.threads.messages.create(</span>
<span class="line">    thread_id=thread.id,</span>
<span class="line">    role=&quot;user&quot;,</span>
<span class="line">    content=&quot;ç‹å“ç„¶ä¸Šå‡ å ‚è¯¾ï¼Œæ¯”å­™å¿—å²—å¤šä¸Šå‡ å ‚&quot;,</span>
<span class="line">)</span>
<span class="line"># ä½¿ç”¨ stream æ¥å£å¹¶ä¼ å…¥ EventHandler</span>
<span class="line">with client.beta.threads.runs.stream(</span>
<span class="line">    thread_id=thread.id,</span>
<span class="line">    assistant_id=assistant.id,</span>
<span class="line">    event_handler=EventHandler(),</span>
<span class="line">) as stream:</span>
<span class="line">    stream.until_done()</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>Output:</strong></p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">assistant &gt; å¥½çš„ï¼Œé¦–å…ˆæˆ‘ä»¬éœ€è¦ç¡®è®¤æ¯ä½è®²å¸ˆçš„æˆè¯¾æ¬¡æ•°ã€‚ä»¥ä¸‹æ˜¯å…·ä½“çš„æ­¥éª¤ï¼š</span>
<span class="line"></span>
<span class="line">1. æŸ¥è¯¢ç‹å“ç„¶çš„æˆè¯¾æ¬¡æ•°ã€‚</span>
<span class="line">2. æŸ¥è¯¢å­™å¿—å²—çš„æˆè¯¾æ¬¡æ•°ã€‚</span>
<span class="line">3. è®¡ç®—ä¸¤è€…çš„æˆè¯¾æ¬¡æ•°å·®å¼‚ã€‚</span>
<span class="line"></span>
<span class="line">ä»¥ä¸‹æ˜¯å®ç°è¿™äº›æ­¥éª¤çš„SQLæŸ¥è¯¢ï¼š</span>
<span class="line"></span>
<span class="line">```sql</span>
<span class="line">SELECT COUNT(*) FROM Courses WHERE instructor = &#39;ç‹å“ç„¶&#39;;</span>
<span class="line">SELECT COUNT(*) FROM Courses WHERE instructor = &#39;å­™å¿—å²—&#39;;</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç„¶åæˆ‘ä»¬ä¼šæ ¹æ®æŸ¥è¯¢ç»“æœè®¡ç®—å·®å¼‚ã€‚ç°åœ¨æˆ‘å°†æ‰§è¡Œè¿™äº›æŸ¥è¯¢ã€‚ assistant &gt; function</p><p>assistant &gt; function</p><p>course_info({&#39;query&#39;: &quot;SELECT COUNT(<em>) as count FROM Courses WHERE instructor = &#39;ç‹å“ç„¶&#39;;&quot;}) course_info({&#39;query&#39;: &quot;SELECT COUNT(</em>) as count FROM Courses WHERE instructor = &#39;å­™å¿—å²—&#39;;&quot;})</p><p>assistant &gt; æ ¹æ®æŸ¥è¯¢ç»“æœï¼š</p><ul><li>ç‹å“ç„¶ä¸Šäº†9å ‚è¯¾ã€‚</li><li>å­™å¿—å²—ä¸Šäº†6å ‚è¯¾ã€‚</li></ul><p>å› æ­¤ï¼Œç‹å“ç„¶æ¯”å­™å¿—å²—å¤šä¸Šäº† (9 - 6 = 3) å ‚è¯¾ã€‚</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line"></span>
<span class="line">&gt; â„¹ï¸ **Info:** æ›´å¤šæµä¸­çš„ Eventï¼š https://platform.openai.com/docs/api-reference/assistants-streaming/events</span>
<span class="line"></span>
<span class="line">## äº”ã€å†…ç½®çš„ RAG åŠŸèƒ½</span>
<span class="line"></span>
<span class="line">### 5.1ã€åˆ›å»º Vector Storeï¼Œä¸Šä¼ æ–‡ä»¶</span>
<span class="line"></span>
<span class="line">- é€šè¿‡ä»£ç åˆ›å»º Vector Store</span>
<span class="line"></span>
<span class="line">```python</span>
<span class="line">vector_store = client.beta.vector_stores.create(</span>
<span class="line">  name=&quot;MyVectorStore&quot;</span>
<span class="line">)</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>é€šè¿‡ä»£ç ä¸Šä¼ æ–‡ä»¶åˆ° OpenAI çš„å­˜å‚¨ç©ºé—´</li></ul><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line"><span class="token builtin">file</span> <span class="token operator">=</span> client<span class="token punctuation">.</span>files<span class="token punctuation">.</span>create<span class="token punctuation">(</span></span>
<span class="line">  <span class="token builtin">file</span><span class="token operator">=</span><span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">&quot;agiclass_intro.pdf&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;rb&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">  purpose<span class="token operator">=</span><span class="token string">&quot;assistants&quot;</span></span>
<span class="line"><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>é€šè¿‡ä»£ç å°†æ–‡ä»¶æ·»åŠ åˆ° Vector Store</li></ul><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line">vector_store_file <span class="token operator">=</span> client<span class="token punctuation">.</span>beta<span class="token punctuation">.</span>vector_stores<span class="token punctuation">.</span>files<span class="token punctuation">.</span>create<span class="token punctuation">(</span></span>
<span class="line">  vector_store_id<span class="token operator">=</span>vector_store<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">,</span></span>
<span class="line">  file_id<span class="token operator">=</span><span class="token builtin">file</span><span class="token punctuation">.</span><span class="token builtin">id</span></span>
<span class="line"><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>æ‰¹é‡ä¸Šä¼ æ–‡ä»¶åˆ° Vector Store</li></ul><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line">files <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;file1.pdf&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;file2.pdf&#39;</span><span class="token punctuation">]</span></span>
<span class="line"></span>
<span class="line">file_batch <span class="token operator">=</span> client<span class="token punctuation">.</span>beta<span class="token punctuation">.</span>vector_stores<span class="token punctuation">.</span>file_batches<span class="token punctuation">.</span>upload_and_poll<span class="token punctuation">(</span></span>
<span class="line">    vector_store_id<span class="token operator">=</span>vector_store<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">,</span></span>
<span class="line">    files<span class="token operator">=</span><span class="token punctuation">[</span><span class="token builtin">open</span><span class="token punctuation">(</span>filename<span class="token punctuation">,</span> <span class="token string">&quot;rb&quot;</span><span class="token punctuation">)</span> <span class="token keyword">for</span> filename <span class="token keyword">in</span> files<span class="token punctuation">]</span></span>
<span class="line"><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Vector store å’Œ vector store file ä¹Ÿæœ‰å¯¹åº”çš„ <code>list</code>, <code>retrieve</code>, å’Œ <code>delete</code> ç­‰æ“ä½œã€‚</p><p>å…·ä½“æ–‡æ¡£å‚è€ƒï¼š</p><ul><li>Vector store: https://platform.openai.com/docs/api-reference/vector-stores</li><li>Vector store file: https://platform.openai.com/docs/api-reference/vector-stores-files</li><li>Vector store file æ‰¹é‡æ“ä½œ: https://platform.openai.com/docs/api-reference/vector-stores-file-batches</li></ul><p>å…³äºæ–‡ä»¶æ“ä½œï¼Œè¿˜æœ‰å¦‚ä¸‹å‡½æ•°ï¼š</p><ol><li><code>client.files.list()</code> åˆ—å‡ºæ‰€æœ‰æ–‡ä»¶</li><li><code>client.files.retrieve()</code> è·å–æ–‡ä»¶å¯¹è±¡</li><li><code>client.files.delete()</code> åˆ é™¤æ–‡ä»¶</li><li><code>client.files.content()</code> è¯»å–æ–‡ä»¶å†…å®¹</li></ol><p>å…·ä½“æ–‡æ¡£å‚è€ƒï¼šhttps://platform.openai.com/docs/api-reference/files</p><h3 id="_5-2ã€åˆ›å»º-assistant-æ—¶å£°æ˜-rag-èƒ½åŠ›" tabindex="-1"><a class="header-anchor" href="#_5-2ã€åˆ›å»º-assistant-æ—¶å£°æ˜-rag-èƒ½åŠ›"><span>5.2ã€åˆ›å»º Assistant æ—¶å£°æ˜ RAG èƒ½åŠ›</span></a></h3><p>RAG å®é™…è¢«å½“ä½œä¸€ç§ tool</p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line">assistant <span class="token operator">=</span> client<span class="token punctuation">.</span>beta<span class="token punctuation">.</span>assistants<span class="token punctuation">.</span>create<span class="token punctuation">(</span></span>
<span class="line">  instructions<span class="token operator">=</span><span class="token string">&quot;ä½ æ˜¯ä¸ªé—®ç­”æœºå™¨äººï¼Œä½ æ ¹æ®ç»™å®šçš„çŸ¥è¯†å›ç­”ç”¨æˆ·é—®é¢˜ã€‚&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  model<span class="token operator">=</span><span class="token string">&quot;gpt-4o&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  tools<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;type&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;file_search&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æŒ‡å®šæ£€ç´¢æº</p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line">assistant <span class="token operator">=</span> client<span class="token punctuation">.</span>beta<span class="token punctuation">.</span>assistants<span class="token punctuation">.</span>update<span class="token punctuation">(</span></span>
<span class="line">  assistant_id<span class="token operator">=</span>assistant<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">,</span></span>
<span class="line">  tool_resources<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">&quot;file_search&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token string">&quot;vector_store_ids&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>vector_store<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¯•è¯• RAG è¯·æ±‚</p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line"><span class="token comment"># åˆ›å»º thread</span></span>
<span class="line">thread <span class="token operator">=</span> client<span class="token punctuation">.</span>beta<span class="token punctuation">.</span>threads<span class="token punctuation">.</span>create<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># æ·»åŠ  user message</span></span>
<span class="line">message <span class="token operator">=</span> client<span class="token punctuation">.</span>beta<span class="token punctuation">.</span>threads<span class="token punctuation">.</span>messages<span class="token punctuation">.</span>create<span class="token punctuation">(</span></span>
<span class="line">    thread_id<span class="token operator">=</span>thread<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">,</span></span>
<span class="line">    role<span class="token operator">=</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    content<span class="token operator">=</span><span class="token string">&quot;AIâ¼¤æ¨¡å‹å…¨æ ˆâ¼¯ç¨‹å¸ˆé€‚åˆå“ªäº›äºº&quot;</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">)</span></span>
<span class="line"><span class="token comment"># ä½¿ç”¨ stream æ¥å£å¹¶ä¼ å…¥ EventHandler</span></span>
<span class="line"><span class="token keyword">with</span> client<span class="token punctuation">.</span>beta<span class="token punctuation">.</span>threads<span class="token punctuation">.</span>runs<span class="token punctuation">.</span>stream<span class="token punctuation">(</span></span>
<span class="line">    thread_id<span class="token operator">=</span>thread<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">,</span></span>
<span class="line">    assistant_id<span class="token operator">=</span>assistant_id<span class="token punctuation">,</span></span>
<span class="line">    event_handler<span class="token operator">=</span>EventHandler<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">)</span> <span class="token keyword">as</span> stream<span class="token punctuation">:</span></span>
<span class="line">    stream<span class="token punctuation">.</span>until_done<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>Output:</strong></p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">assistant &gt; file_search</span>
<span class="line"></span>
<span class="line"></span>
<span class="line">assistant &gt; AIå¤§æ¨¡å‹å…¨æ ˆå·¥ç¨‹å¸ˆé€‚åˆä»¥ä¸‹å‡ ç±»äººç¾¤ï¼š</span>
<span class="line"></span>
<span class="line">1. **è‡ªå·±å¹²**ï¼šæœ‰èƒ½åŠ›ç‹¬ç«‹å®ŒæˆAIåº”ç”¨ä»ç­–åˆ’ã€å¼€å‘åˆ°è½åœ°çš„å…¨è¿‡ç¨‹ï¼ŒåŒ…æ‹¬å•†ä¸šåˆ†æã€éœ€æ±‚åˆ†æã€äº§å“è®¾è®¡ã€å¼€å‘ã€æµ‹è¯•ã€å¸‚åœºæ¨å¹¿å’Œè¿è¥ç­‰ã€‚è¿™ç±»äººé€šå¸¸æ‡‚è‡³å°‘ä¸€é—¨ç¼–ç¨‹è¯­è¨€ï¼Œå¹¶æœ‰è¿‡çœŸå®é¡¹ç›®å¼€å‘ç»éªŒï¼Œå¦‚è½¯ä»¶å¼€å‘å·¥ç¨‹å¸ˆã€é«˜çº§å·¥ç¨‹å¸ˆã€æŠ€æœ¯æ€»ç›‘ã€ç ”å‘ç»ç†ã€æ¶æ„å¸ˆã€æµ‹è¯•å·¥ç¨‹å¸ˆç­‰ã€‚</span>
<span class="line"></span>
<span class="line">2. **åˆä¼™å¹²**ï¼šé¢†å¯¼æˆ–è€…é…åˆæ‡‚AIæŠ€æœ¯çš„äººï¼Œä¸€èµ·å®ŒæˆAIåº”ç”¨ä»ç­–åˆ’ã€å¼€å‘åˆ°è½åœ°çš„å…¨è¿‡ç¨‹ã€‚è¿™ç±»äººå¯èƒ½ä¸æ‡‚ç¼–ç¨‹ï¼Œä½†å¯ä»¥æ˜¯äº§å“ç»ç†ã€éœ€æ±‚åˆ†æå¸ˆã€è®¾è®¡å¸ˆã€è¿è¥ã€åˆ›ä¸šè€…ã€è€æ¿ã€è§£å†³æ–¹æ¡ˆå·¥ç¨‹å¸ˆã€é¡¹ç›®ç»ç†ã€å¸‚åœºã€é”€å”®ç­‰ã€‚å¦‚æœèƒ½å–„ç”¨AIå­¦ä¹ ç¼–ç¨‹ã€è¾…åŠ©ç¼–ç¨‹ï¼Œä¹Ÿå¯ä»¥å‘â€œè‡ªå·±å¹²â€è¿ˆè¿›ã€4:0â€ sourceã€‘ã€4:1â€ sourceã€‘ã€‚</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5-3-å†…ç½®çš„-rag-æ˜¯æ€ä¹ˆå®ç°çš„" tabindex="-1"><a class="header-anchor" href="#_5-3-å†…ç½®çš„-rag-æ˜¯æ€ä¹ˆå®ç°çš„"><span>5.3 å†…ç½®çš„ RAG æ˜¯æ€ä¹ˆå®ç°çš„</span></a></h3><p><a href="https://platform.openai.com/docs/assistants/tools/file-search/how-it-works" target="_blank" rel="noopener noreferrer">å®˜æ–¹åŸæ–‡</a></p><p>The file_search tool implements several retrieval best practices out of the box to help you extract the right data from your files and augment the modelâ€™s responses. The file_search tool:</p><ul><li>Rewrites user queries to optimize them for search. (é¢å‘æ£€ç´¢çš„ Query æ”¹å†™)</li><li>Breaks down complex user queries into multiple searches it can run in parallel.ï¼ˆå¤æ‚ Query æ‹†æˆå¤šä¸ªï¼Œå¹¶è¡Œæ‰§è¡Œï¼‰</li><li>Runs both keyword and semantic searches across both assistant and thread vector stores.ï¼ˆå…³é”®å­—ä¸å‘é‡æ··åˆæ£€ç´¢ï¼‰</li><li>Reranks search results to pick the most relevant ones before generating the final response.ï¼ˆæ£€ç´¢åæ’åºï¼‰</li></ul><p>é»˜è®¤é…ç½®ï¼š</p><ul><li>Chunk size: 800 tokens</li><li>Chunk overlap: 400 tokens</li><li>Embedding model: text-embedding-3-large at 256 dimensions</li><li>Maximum number of chunks added to context: 20 (could be fewer)</li></ul><p>ä»¥ä¸Šé…ç½®å¯ä»¥é€šè¿‡ <a href="https://platform.openai.com/docs/api-reference/vector-stores-files/createFile#vector-stores-files-createfile-chunking_strategy" target="_blank" rel="noopener noreferrer"><code>chunking_strategy</code></a> å‚æ•°è‡ªå®šä¹‰ä¿®æ”¹ã€‚</p><p>æ‰¿è¯ºæœªæ¥å¢åŠ ï¼š</p><ol><li>Support for deterministic pre-search filtering using custom metadata.</li><li>Support for parsing images within documents (including images of charts, graphs, tables etc.)</li><li>Support for retrievals over structured file formats (like csv or jsonl).</li><li>Better support for summarization â€” the tool today is optimized for search queries.</li></ol><blockquote><p>âš ï¸ <strong>Note:</strong> æˆ‘ä»¬ä¸ºä»€ä¹ˆä»ç„¶éœ€è¦äº†è§£æ•´ä¸ªå®ç°è¿‡ç¨‹ï¼Ÿ</p></blockquote><p>å¦‚æœä¸èƒ½ä½¿ç”¨ OpenAIï¼Œè¿˜æ˜¯éœ€è¦æ‰‹å·¥å®ç° RAG æµç¨‹ äº†è§£ RAG çš„åŸç†ï¼Œå¯ä»¥æŒ‡å¯¼ä½ çš„äº§å“å¼€å‘ï¼ˆå›å¿† GitHub Copilotï¼‰ ç”¨ç§æœ‰çŸ¥è¯†å¢å¼º LLM çš„èƒ½åŠ›ï¼Œæ˜¯ä¸€ä¸ªé€šç”¨çš„æ–¹æ³•è®º</p><h2 id="å…­ã€å¤šä¸ª-assistants-åä½œ-åšä¸ªå®éªŒ" tabindex="-1"><a class="header-anchor" href="#å…­ã€å¤šä¸ª-assistants-åä½œ-åšä¸ªå®éªŒ"><span>å…­ã€å¤šä¸ª Assistants åä½œï¼šåšä¸ªå®éªŒ</span></a></h2><blockquote><p>âœ… <strong>Tip:</strong> åˆ’é‡ç‚¹ï¼šä½¿ç”¨ assistant çš„æ„ä¹‰ä¹‹ä¸€ï¼Œæ˜¯å¯ä»¥éš”ç¦»ä¸åŒè§’è‰²çš„ instruction å’Œ function èƒ½åŠ›ã€‚</p></blockquote><p>æˆ‘ä»¬ç”¨å¤šä¸ª Assistants æ¨¡æ‹Ÿä¸€åœºâ€œå…­é¡¶æ€ç»´å¸½â€æ–¹æ³•çš„è®¨è®ºã€‚</p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line">hats <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token string">&quot;è“è‰²&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;æ€è€ƒè¿‡ç¨‹çš„æ§åˆ¶å’Œç»„ç»‡è€…ã€‚ä½ è´Ÿè´£ä¼šè®®çš„ç»„ç»‡ã€æ€è€ƒè¿‡ç¨‹çš„æ¦‚è§ˆå’Œæ€»ç»“ã€‚&quot;</span></span>
<span class="line">    <span class="token operator">+</span> <span class="token string">&quot;é¦–å…ˆï¼Œæ•´ä¸ªè®¨è®ºä»ä½ å¼€åœºï¼Œä½ åªé™ˆè¿°é—®é¢˜ä¸è¡¨è¾¾è§‚ç‚¹ã€‚æœ€åï¼Œå†ç”±ä½ å¯¹æ•´ä¸ªè®¨è®ºåšç®€çŸ­çš„æ€»ç»“å¹¶ç»™å‡ºæœ€ç»ˆæ–¹æ¡ˆã€‚&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string">&quot;ç™½è‰²&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;è´Ÿè´£æä¾›å®¢è§‚äº‹å®å’Œæ•°æ®ã€‚ä½ éœ€è¦å…³æ³¨å¯è·å¾—çš„ä¿¡æ¯ã€éœ€è¦çš„ä¿¡æ¯ä»¥åŠå¦‚ä½•è·å–é‚£äº›è¿˜æœªè·å¾—çš„ä¿¡æ¯ã€‚&quot;</span></span>
<span class="line">    <span class="token operator">+</span> <span class="token string">&quot;æ€è€ƒâ€œæˆ‘ä»¬æœ‰å“ªäº›æ•°æ®ï¼Ÿæˆ‘ä»¬è¿˜éœ€è¦å“ªäº›ä¿¡æ¯ï¼Ÿâ€ç­‰é—®é¢˜ï¼Œå¹¶æä¾›å®¢è§‚ç­”æ¡ˆã€‚&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string">&quot;çº¢è‰²&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;ä»£è¡¨ç›´è§‰ã€æƒ…æ„Ÿå’Œç›´è§‰ååº”ã€‚ä¸éœ€è¦è§£é‡Šå’Œè¾©è§£ä½ çš„æƒ…æ„Ÿæˆ–ç›´è§‰ã€‚&quot;</span></span>
<span class="line">    <span class="token operator">+</span> <span class="token string">&quot;è¿™æ˜¯è¡¨è¾¾æœªç»è¿‡æ»¤çš„æƒ…ç»ªå’Œæ„Ÿå—çš„æ—¶åˆ»ã€‚&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string">&quot;é»‘è‰²&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;ä»£è¡¨è°¨æ…å’Œæ‰¹åˆ¤æ€§æ€ç»´ã€‚ä½ éœ€è¦æŒ‡å‡ºææ¡ˆçš„å¼±ç‚¹ã€é£é™©ä»¥åŠä¸ºä»€ä¹ˆæŸäº›äº‹æƒ…å¯èƒ½æ— æ³•æŒ‰è®¡åˆ’è¿›è¡Œã€‚&quot;</span></span>
<span class="line">    <span class="token operator">+</span> <span class="token string">&quot;è¿™ä¸æ˜¯æ¶ˆææ€è€ƒï¼Œè€Œæ˜¯ä¸ºäº†å‘ç°æ½œåœ¨çš„é—®é¢˜ã€‚&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string">&quot;é»„è‰²&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;ä»£è¡¨ä¹è§‚å’Œç§¯ææ€§ã€‚ä½ éœ€è¦æ¢è®¨ææ¡ˆçš„ä»·å€¼ã€å¥½å¤„å’Œå¯è¡Œæ€§ã€‚è¿™æ˜¯å¯»æ‰¾å’Œè®¨è®ºææ¡ˆä¸­æ­£é¢æ–¹é¢çš„æ—¶å€™ã€‚&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string">&quot;ç»¿è‰²&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;ä»£è¡¨åˆ›é€ æ€§æ€ç»´å’Œæ–°æƒ³æ³•ã€‚é¼“åŠ±å‘æ•£æ€ç»´ã€æå‡ºæ–°çš„è§‚ç‚¹ã€è§£å†³æ–¹æ¡ˆå’Œåˆ›æ„ã€‚è¿™æ˜¯æ‰“ç ´å¸¸è§„å’Œæ¢ç´¢æ–°å¯èƒ½æ€§çš„æ—¶å€™ã€‚&quot;</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line">queue <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;è“è‰²&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ç™½è‰²&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;çº¢è‰²&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;é»‘è‰²&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;é»„è‰²&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ç»¿è‰²&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;è“è‰²&quot;</span><span class="token punctuation">]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line"><span class="token keyword">from</span> openai <span class="token keyword">import</span> OpenAI</span>
<span class="line"><span class="token keyword">import</span> os</span>
<span class="line"><span class="token keyword">import</span> json</span>
<span class="line"></span>
<span class="line"><span class="token keyword">from</span> dotenv <span class="token keyword">import</span> load_dotenv<span class="token punctuation">,</span> find_dotenv</span>
<span class="line">_ <span class="token operator">=</span> load_dotenv<span class="token punctuation">(</span>find_dotenv<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># åˆå§‹åŒ– OpenAI æœåŠ¡</span></span>
<span class="line">client <span class="token operator">=</span> OpenAI<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line">existing_assistants <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">def</span> <span class="token function">create_assistant</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token keyword">if</span> color <span class="token keyword">in</span> existing_assistants<span class="token punctuation">:</span></span>
<span class="line">        <span class="token keyword">return</span> existing_assistants<span class="token punctuation">[</span>color<span class="token punctuation">]</span></span>
<span class="line">    assistant <span class="token operator">=</span> client<span class="token punctuation">.</span>beta<span class="token punctuation">.</span>assistants<span class="token punctuation">.</span>create<span class="token punctuation">(</span></span>
<span class="line">        name<span class="token operator">=</span><span class="token string-interpolation"><span class="token string">f&quot;</span><span class="token interpolation"><span class="token punctuation">{</span>color<span class="token punctuation">}</span></span><span class="token string">å¸½å­è§’è‰²&quot;</span></span><span class="token punctuation">,</span></span>
<span class="line">        instructions<span class="token operator">=</span><span class="token string-interpolation"><span class="token string">f&quot;æˆ‘ä»¬åœ¨è¿›è¡Œä¸€åœºSix Thinking Hatsè®¨è®ºã€‚æŒ‰</span><span class="token interpolation"><span class="token punctuation">{</span>queue<span class="token punctuation">}</span></span><span class="token string">é¡ºåºã€‚ä½ çš„è§’è‰²æ˜¯</span><span class="token interpolation"><span class="token punctuation">{</span>color<span class="token punctuation">}</span></span><span class="token string">å¸½å­ã€‚&quot;</span></span><span class="token punctuation">,</span></span>
<span class="line">        model<span class="token operator">=</span><span class="token string">&quot;gpt-4o&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">)</span></span>
<span class="line">    existing_assistants<span class="token punctuation">[</span>color<span class="token punctuation">]</span> <span class="token operator">=</span> assistant</span>
<span class="line">    <span class="token keyword">return</span> assistant</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line"><span class="token comment"># åˆ›å»º thread</span></span>
<span class="line">thread <span class="token operator">=</span> client<span class="token punctuation">.</span>beta<span class="token punctuation">.</span>threads<span class="token punctuation">.</span>create<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">topic <span class="token operator">=</span> <span class="token string">&quot;é¢å‘éAIèƒŒæ™¯çš„ç¨‹åºå‘˜ç¾¤ä½“è®¾è®¡ä¸€é—¨AIå¤§è¯­è¨€æ¨¡å‹è¯¾ç¨‹ï¼Œåº”è¯¥åŒ…å«å“ªäº›å†…å®¹ã€‚&quot;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># æ·»åŠ  user message</span></span>
<span class="line">message <span class="token operator">=</span> client<span class="token punctuation">.</span>beta<span class="token punctuation">.</span>threads<span class="token punctuation">.</span>messages<span class="token punctuation">.</span>create<span class="token punctuation">(</span></span>
<span class="line">    thread_id<span class="token operator">=</span>thread<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">,</span></span>
<span class="line">    role<span class="token operator">=</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    content<span class="token operator">=</span><span class="token string-interpolation"><span class="token string">f&quot;è®¨è®ºè¯é¢˜ï¼š</span><span class="token interpolation"><span class="token punctuation">{</span>topic<span class="token punctuation">}</span></span><span class="token string">\n\n[å¼€å§‹]\n&quot;</span></span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">for</span> hat <span class="token keyword">in</span> queue<span class="token punctuation">:</span></span>
<span class="line">    assistant <span class="token operator">=</span> create_assistant<span class="token punctuation">(</span>hat<span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">with</span> client<span class="token punctuation">.</span>beta<span class="token punctuation">.</span>threads<span class="token punctuation">.</span>runs<span class="token punctuation">.</span>stream<span class="token punctuation">(</span></span>
<span class="line">        thread_id<span class="token operator">=</span>thread<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">,</span></span>
<span class="line">        assistant_id<span class="token operator">=</span>assistant<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">,</span></span>
<span class="line">        event_handler<span class="token operator">=</span>EventHandler<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">)</span> <span class="token keyword">as</span> stream<span class="token punctuation">:</span></span>
<span class="line">        stream<span class="token punctuation">.</span>until_done<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>Output:</strong></p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">assistant &gt; å¥½çš„ï¼Œå¤§å®¶å¥½ï¼æ¬¢è¿å‚åŠ æˆ‘ä»¬çš„Six Thinking Hatsè®¨è®ºã€‚ä»Šå¤©ï¼Œæˆ‘ä»¬çš„ä¸»é¢˜æ˜¯â€œé¢å‘éAIèƒŒæ™¯çš„ç¨‹åºå‘˜ç¾¤ä½“è®¾è®¡ä¸€é—¨AIå¤§è¯­è¨€æ¨¡å‹è¯¾ç¨‹åº”è¯¥åŒ…å«å“ªäº›å†…å®¹â€ã€‚</span>
<span class="line"></span>
<span class="line">æˆ‘èº«ä¸ºè“è‰²å¸½å­ï¼Œè´Ÿè´£å¼•å¯¼è®¨è®ºå¹¶æ€»ç»“å„ä½çš„è§‚ç‚¹ã€‚</span>
<span class="line"></span>
<span class="line">é¦–å…ˆï¼Œæˆ‘ä»¬å°†ä»ç™½è‰²å¸½å­å¼€å§‹ï¼Œå³ç„¦ç‚¹åœ¨äºå®¢è§‚æ•°æ®å’Œäº‹å®ã€‚è¯·ä½ ä»¬åŸºäºå·²æœ‰çš„çŸ¥è¯†å’Œæ•°æ®ï¼Œè®¨è®ºè¿™é—¨è¯¾ç¨‹å¯ä»¥åŒ…å«å“ªäº›å†…å®¹ã€‚</span>
<span class="line"></span>
<span class="line">assistant &gt; å„ä½å¥½ï¼Œæˆ‘æ˜¯ç™½è‰²å¸½å­ã€‚æ ¹æ®ç°æœ‰çš„å®¢è§‚æ•°æ®å’Œäº‹å®ï¼Œæˆ‘è®¤ä¸ºè¿™é—¨AIå¤§è¯­è¨€æ¨¡å‹è¯¾ç¨‹å¯ä»¥åŒ…å«ä»¥ä¸‹å†…å®¹ï¼š</span>
<span class="line"></span>
<span class="line">1. **åŸºç¡€æ¦‚å¿µä»‹ç»**ï¼šç®€è¦è®²è§£äººå·¥æ™ºèƒ½å’Œå¤§è¯­è¨€æ¨¡å‹çš„åŸºæœ¬æ¦‚å¿µï¼Œä»¥åŠå®ƒä»¬åœ¨è®¡ç®—æœºç§‘å­¦ä¸­çš„ä½ç½®ã€‚è¿™éƒ¨åˆ†å†…å®¹å¯ä»¥åŒ…æ‹¬ï¼š</span>
<span class="line">    - ä»€ä¹ˆæ˜¯äººå·¥æ™ºèƒ½å’Œæœºå™¨å­¦ä¹ ï¼Ÿ</span>
<span class="line">    - æ·±åº¦å­¦ä¹ å’Œç¥ç»ç½‘ç»œçš„åŸºç¡€åŸç†ã€‚</span>
<span class="line">    - å¤§è¯­è¨€æ¨¡å‹ï¼ˆå¦‚GPT-3ã€BERTï¼‰çš„å®šä¹‰å’ŒåŸºæœ¬åŸç†ã€‚</span>
<span class="line"></span>
<span class="line">2. **å·¥å…·å’Œæ¡†æ¶**ï¼šä»‹ç»ä¸€äº›å¸¸ç”¨çš„è½¯ä»¶å·¥å…·å’Œæ¡†æ¶ï¼Œä½¿å­¦å‘˜èƒ½å¤ŸåŠ¨æ‰‹å®è·µã€‚è¿™éƒ¨åˆ†å¯ä»¥åŒ…å«ï¼š</span>
<span class="line">    - Pythonç¼–ç¨‹è¯­è¨€åŠå…¶åœ¨AIå¼€å‘ä¸­çš„åº”ç”¨ã€‚</span>
<span class="line">    - TensorFlowå’ŒPyTorchç­‰æ·±åº¦å­¦ä¹ æ¡†æ¶çš„åŸºç¡€ä½¿ç”¨ã€‚</span>
<span class="line"></span>
<span class="line">3. **æ•°æ®å¤„ç†å’Œé¢„å¤„ç†**ï¼šå¤§è¯­è¨€æ¨¡å‹è®­ç»ƒä¸­æ•°æ®çš„é‡è¦æ€§ï¼Œä»¥åŠå¸¸ç”¨çš„å¤„ç†æ–¹æ³•ï¼Œæ¯”å¦‚ï¼š</span>
<span class="line">    - æ•°æ®æ¸…æ´—ã€æ•°æ®æ ‡æ³¨å’Œæ•°æ®å¢å¼ºçš„æ–¹æ³•ã€‚</span>
<span class="line">    - è‡ªç„¶è¯­è¨€å¤„ç†ä¸­çš„å¸¸ç”¨æŠ€å·§ï¼Œå¦‚åˆ†è¯ã€è¯æ€§æ ‡æ³¨ã€åœç”¨è¯è¿‡æ»¤ç­‰ã€‚</span>
<span class="line"></span>
<span class="line">4. **æ¨¡å‹è®­ç»ƒå’Œä¼˜åŒ–**ï¼šä»‹ç»æ¨¡å‹è®­ç»ƒçš„æµç¨‹ä»¥åŠä¼˜åŒ–çš„æ–¹æ³•ï¼ŒåŒ…æ‹¬ï¼š</span>
<span class="line">    - å¦‚ä½•æ­å»ºå’Œè®­ç»ƒä¸€ä¸ªç®€å•çš„ç¥ç»ç½‘ç»œæ¨¡å‹ã€‚</span>
<span class="line">    - è¶…å‚æ•°è°ƒä¼˜å’Œæ¨¡å‹è¯„ä¼°çš„åŸºæœ¬æ–¹æ³•ã€‚</span>
<span class="line"></span>
<span class="line">5. **åº”ç”¨åœºæ™¯**ï¼šå±•ç¤ºå¤§è¯­è¨€æ¨¡å‹åœ¨å®é™…åº”ç”¨ä¸­çš„åœºæ™¯å’Œæ¡ˆä¾‹ï¼Œæ¯”å¦‚ï¼š</span>
<span class="line">    - è¯­éŸ³è¯†åˆ«å’Œæ–‡æœ¬ç”Ÿæˆã€‚</span>
<span class="line">    - è‡ªåŠ¨æ‘˜è¦ã€æƒ…æ„Ÿåˆ†æå’Œå¯¹è¯ç³»ç»Ÿç­‰åº”ç”¨ã€‚</span>
<span class="line"></span>
<span class="line">6. **é¡¹ç›®å®è·µ**ï¼šé€šè¿‡å…·ä½“çš„é¡¹ç›®æ¡ˆä¾‹ï¼Œä½¿å­¦å‘˜èƒ½å¤Ÿå®é™…åº”ç”¨æ‰€å­¦å†…å®¹ã€‚</span>
<span class="line">    - ä»å¤´åˆ°å°¾è®¾è®¡ä¸€ä¸ªç®€å•é¡¹ç›®ï¼Œå¦‚æ„å»ºä¸€ä¸ªé—®ç­”ç³»ç»Ÿæˆ–æ–‡æœ¬åˆ†ç±»å™¨ã€‚</span>
<span class="line"></span>
<span class="line">ä¸Šè¿°å†…å®¹åŸºäºå½“å‰çš„ä¸»æµåšæ³•å’Œè¯¾ç¨‹è®¾ç½®ï¼Œå¹¶ç»“åˆäº†éAIèƒŒæ™¯ç¨‹åºå‘˜çš„å­¦ä¹ è¯‰æ±‚å’ŒåŸºç¡€ï¼Œæ„åœ¨ä¸ºä»–ä»¬æä¾›å®ç”¨ä¸”ç³»ç»Ÿçš„å­¦ä¹ è·¯å¾„ã€‚</span>
<span class="line"></span>
<span class="line">assistant &gt; å„ä½å¥½ï¼Œæˆ‘æ˜¯çº¢è‰²å¸½å­ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘è¦è¡¨è¾¾ä¸€ä¸‹æˆ‘å¯¹è¿™é—¨è¯¾ç¨‹è®¾è®¡çš„æƒ…ç»ªå’Œç›´è§‰ä¸Šçš„æ„Ÿå—ã€‚</span>
<span class="line"></span>
<span class="line">ä»æˆ‘çš„è§’åº¦æ¥çœ‹ï¼Œè®¾è®¡è¿™æ ·ä¸€é—¨è¯¾ç¨‹é¦–å…ˆè¦è€ƒè™‘åˆ°éAIèƒŒæ™¯çš„ç¨‹åºå‘˜ç¾¤ä½“ï¼Œä»–ä»¬å¯èƒ½ä¼šæœ‰ä¸€äº›ç„¦è™‘å’Œä¸å®‰ï¼Œæ‹…å¿ƒè‡ªå·±æ— æ³•æŒæ¡è¿™äº›æ–°çš„å’Œç›¸å¯¹å¤æ‚çš„çŸ¥è¯†ã€‚æˆ‘ä»¬éœ€è¦åœ¨è¯¾ç¨‹ä¸­åŠ å…¥ä¸€äº›èƒ½å¤Ÿæå‡ä»–ä»¬è‡ªä¿¡å¿ƒå’Œæˆå°±æ„Ÿçš„å†…å®¹ï¼Œè®©ä»–ä»¬æ„Ÿåˆ°è‡ªå·±åœ¨é€æ­¥è¿›æ­¥å’Œå–å¾—æˆæ•ˆã€‚</span>
<span class="line"></span>
<span class="line">å…¶æ¬¡ï¼Œæˆ‘è§‰å¾—è¿™é—¨è¯¾ç¨‹åº”è¯¥å°½å¯èƒ½åœ°æœ‰è¶£å’Œäº’åŠ¨ã€‚AIå’Œå¤§è¯­è¨€æ¨¡å‹æ˜¯éå¸¸å‰æ²¿çš„æŠ€æœ¯ï¼Œå¾ˆå¤šäººåœ¨ä¸€å¼€å§‹å­¦ä¹ æ—¶ä¼šæ„Ÿåˆ°æ—¢å…´å¥‹åˆç–‘æƒ‘ã€‚æˆ‘ä»¬åº”è¯¥åˆ©ç”¨è¿™ä¸€ç‚¹ï¼Œè®¾è®¡ä¸€äº›èƒ½å¤Ÿæ¿€å‘ä»–ä»¬å¥½å¥‡å¿ƒå’Œå…´è¶£çš„è¯¾ç¨‹å†…å®¹æˆ–é¡¹ç›®ï¼Œæ¯”å¦‚ä¸€äº›ä¸å®é™…ç”Ÿæ´»ç´§å¯†ç›¸å…³çš„åº”ç”¨æ¡ˆä¾‹ï¼Œæˆ–è€…æ˜¯ä¸€äº›èƒ½ç«‹ç«¿è§å½±çš„å°å®éªŒã€‚</span>
<span class="line"></span>
<span class="line">å¦å¤–ï¼Œæˆ‘æ·±ä¿¡æä¾›æŒç»­çš„æ”¯æŒå’Œåé¦ˆæœºåˆ¶ä¹Ÿéå¸¸é‡è¦ã€‚é¢å¯¹å¤æ‚çš„æ–°çŸ¥è¯†ï¼Œä»–ä»¬å¯èƒ½ä¼šé‡åˆ°å¾ˆå¤šç“¶é¢ˆå’ŒæŒ«æŠ˜æ„Ÿã€‚å› æ­¤ï¼Œè¯¾ç¨‹ä¸­åº”è®¾è®¡ä¸€äº›æœºåˆ¶è®©åŒå­¦ä»¬èƒ½å¤Ÿåœ¨é‡åˆ°å›°éš¾æ—¶åŠæ—¶è·å¾—å¸®åŠ©å’ŒæŒ‡å¯¼ï¼Œæ¯”å¦‚é…å¤‡åŠ©æ•™ï¼Œè®¾ç½®è®¨è®ºåŒºæˆ–è€…å®šæœŸä¸¾è¡Œç­”ç–‘ä¼šç­‰ã€‚</span>
<span class="line"></span>
<span class="line">æ€»ä¹‹ï¼Œæˆ‘è§‰å¾—è¿™é—¨è¯¾ç¨‹ä¸ä»…è¦ä¼ æˆçŸ¥è¯†ï¼Œæ›´è¦æ³¨é‡å­¦å‘˜çš„æƒ…æ„Ÿä½“éªŒå’Œå¿ƒç†æ„Ÿå—ï¼Œä»è€Œç¡®ä¿ä»–ä»¬æ—¢èƒ½å­¦åˆ°çŸ¥è¯†ï¼Œåˆèƒ½åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­ä¿æŒç§¯æå’Œæ„‰å¿«çš„å¿ƒæ€ã€‚</span>
<span class="line"></span>
<span class="line">assistant &gt; å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯é»‘è‰²å¸½å­ã€‚ä½œä¸ºé»‘è‰²å¸½å­çš„è§’è‰²ï¼Œæˆ‘å°†ä¸»è¦å…³æ³¨è¿™é—¨è¯¾ç¨‹è®¾è®¡ä¸­çš„æ½œåœ¨é—®é¢˜å’ŒæŒ‘æˆ˜ã€‚</span>
<span class="line"></span>
<span class="line">1. **å­¦å‘˜èƒŒæ™¯å·®å¼‚**ï¼šéAIèƒŒæ™¯çš„ç¨‹åºå‘˜ç¾¤ä½“å¯èƒ½åœ¨æ•°å­¦åŸºç¡€å’Œæœºå™¨å­¦ä¹ ç†è®ºæ–¹é¢å·®å¼‚å¾ˆå¤§ã€‚å¯¹äºé‚£äº›å¯¹æ•°å­¦ä¸å¤ªç†Ÿæ‚‰çš„å­¦å‘˜ï¼Œå¤æ‚çš„æ•°å­¦æ¦‚å¿µå’Œå…¬å¼å¯èƒ½ä¼šæˆä¸ºå­¦ä¹ çš„éšœç¢ã€‚å› æ­¤ï¼Œå¦‚ä½•å¹³è¡¡è¯¾ç¨‹å†…å®¹çš„éš¾åº¦ï¼Œä½¿å®ƒæ—¢ä¸è¿‡äºç®€å•ä¹Ÿä¸è¿‡äºå¤æ‚ï¼Œæ˜¯ä¸€ä¸ªéœ€è¦è€ƒè™‘çš„é—®é¢˜ã€‚</span>
<span class="line"></span>
<span class="line">2. **æ—¶é—´å’Œç²¾åŠ›æŠ•å…¥**ï¼šå­¦ä¹ AIå¤§è¯­è¨€æ¨¡å‹éœ€è¦æŠ•å…¥ç›¸å½“çš„æ—¶é—´å’Œç²¾åŠ›ã€‚éAIèƒŒæ™¯çš„ç¨‹åºå‘˜åœ¨å·¥ä½œä¹‹ä½™å¯èƒ½æ²¡æœ‰è¶³å¤Ÿçš„æ—¶é—´æˆ–ç²¾åŠ›æ¥å®Œæ•´å­¦ä¹ è¯¾ç¨‹å„ä¸ªéƒ¨åˆ†ï¼Œå¯èƒ½å¯¼è‡´å­¦ç”ŸåŠé€”è€ŒåºŸã€‚å› æ­¤ï¼Œå¦‚ä½•è®¾è®¡è¯¾æ—¶ï¼Œä½¿å¾—è¯¾ç¨‹æ—¢èƒ½ç³»ç»Ÿä¼ æˆçŸ¥è¯†ï¼Œåˆèƒ½è®©å­¦å‘˜åœ¨çŸ­æ—¶é—´å†…çœ‹åˆ°å­¦ä¹ æˆæ•ˆï¼Œæ˜¯ä¸€ä¸ªæŒ‘æˆ˜ã€‚</span>
<span class="line"></span>
<span class="line">3. **å®è·µæ“ä½œéš¾åº¦**ï¼šAIè¯¾ç¨‹å¾€å¾€éœ€è¦å¤§é‡å®è·µæ“ä½œï¼Œä½†å¯¹äºæ²¡æœ‰AIèƒŒæ™¯çš„ç¨‹åºå‘˜æ¥è¯´ï¼Œæ­å»ºå®éªŒç¯å¢ƒã€ç†è§£å’Œè°ƒè¯•ä»£ç å¯èƒ½ä¼šé‡åˆ°å¾ˆå¤šé—®é¢˜ã€‚å¦‚æœè¿™äº›é—®é¢˜ä¸èƒ½åŠæ—¶å¾—åˆ°è§£å†³ï¼Œå¯èƒ½ä¼šæŒ«è´¥å­¦å‘˜çš„ä¿¡å¿ƒï¼Œå¯¼è‡´å­¦ä¹ å…´è¶£ä¸‹é™ã€‚</span>
<span class="line"></span>
<span class="line">4. **èµ„æºé™åˆ¶**ï¼šAIæ¨¡å‹çš„è®­ç»ƒé€šå¸¸éœ€è¦å¼ºå¤§çš„è®¡ç®—èµ„æºï¼Œè€Œæ™®é€šç¨‹åºå‘˜å¯èƒ½æ²¡æœ‰ä¸“ä¸šçš„ç¡¬ä»¶è®¾å¤‡æˆ–äº‘èµ„æºæ¥æ”¯æŒå¤æ‚çš„æ¨¡å‹è®­ç»ƒã€‚å¦‚æœè¯¾ç¨‹è¦æ±‚å­¦å‘˜ä½¿ç”¨é«˜çº§èµ„æºï¼Œå¯èƒ½ä¼šå¯¼è‡´éƒ¨åˆ†å­¦å‘˜æ— æ³•å®Œæˆè¯¾ç¨‹è¦æ±‚çš„ç»ƒä¹ ã€‚</span>
<span class="line"></span>
<span class="line">5. **æœªæ¥çš„å®é™…åº”ç”¨**ï¼šè™½ç„¶å­¦ä¹ å¤§è¯­è¨€æ¨¡å‹éå¸¸å…·æœ‰å‰æ™¯ï¼Œä½†éAIèƒŒæ™¯ç¨‹åºå‘˜åœ¨å®é™…å·¥ä½œä¸­æ˜¯å¦èƒ½å¤ŸçœŸæ­£åº”ç”¨è¿™äº›æŠ€æœ¯å¯èƒ½æ˜¯ä¸ªé—®é¢˜ã€‚å¦‚æœè¯¾ç¨‹ä¸­çš„çŸ¥è¯†å’ŒæŠ€èƒ½ä¸èƒ½ç›´æ¥åº”ç”¨äºä»–ä»¬çš„æ—¥å¸¸å·¥ä½œï¼Œå­¦å‘˜å¯èƒ½ä¼šè§‰å¾—è¿™é—¨è¯¾ç¨‹çš„å®ç”¨æ€§ä¸é«˜ã€‚</span>
<span class="line"></span>
<span class="line">ä»¥ä¸Šæ˜¯æˆ‘è®¤ä¸ºæˆ‘ä»¬åœ¨è®¾è®¡è¿™é—¨è¯¾ç¨‹æ—¶éœ€è¦åŠ ä»¥é‡è§†çš„æ½œåœ¨é—®é¢˜å’ŒæŒ‘æˆ˜ã€‚ä¾ç…§è¿™äº›æŒ‘æˆ˜ï¼Œæˆ‘ä»¬åº”é‡‡å–ç›¸åº”çš„å¯¹ç­–æ¥ä¼˜åŒ–è¯¾ç¨‹è®¾è®¡ï¼Œç¡®ä¿è¿™é—¨è¯¾ç¨‹èƒ½å¤ŸçœŸæ­£æœ‰æ•ˆåœ°å¸®åŠ©éAIèƒŒæ™¯çš„ç¨‹åºå‘˜æŒæ¡å¤§è¯­è¨€æ¨¡å‹çš„ç›¸å…³çŸ¥è¯†å’ŒæŠ€èƒ½ã€‚</span>
<span class="line"></span>
<span class="line">assistant &gt; å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯é»„è‰²å¸½å­ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘å°†ä»ç§¯æå’Œå»ºè®¾æ€§çš„è§’åº¦æ¥æ¢è®¨è¿™é—¨è¯¾ç¨‹è®¾è®¡çš„ä¼˜åŠ¿å’Œæ½œåŠ›ã€‚</span>
<span class="line"></span>
<span class="line">1. **å¡«è¡¥çŸ¥è¯†ç©ºç™½**ï¼šè¿™é—¨è¯¾ç¨‹é¢å‘éAIèƒŒæ™¯çš„ç¨‹åºå‘˜ç¾¤ä½“ï¼Œèƒ½å¤Ÿæœ‰æ•ˆåœ°ç¼©å°ä»–ä»¬ä¸AIé¢†åŸŸä¹‹é—´çš„çŸ¥è¯†é¸¿æ²Ÿï¼Œä½¿ä»–ä»¬æŒæ¡å¤§è¯­è¨€æ¨¡å‹çš„åŸºç¡€çŸ¥è¯†å’Œå®è·µæŠ€èƒ½ï¼Œä»è€Œæå‡ä»–ä»¬çš„èŒä¸šç«äº‰åŠ›ã€‚</span>
<span class="line"></span>
<span class="line">2. **å¤šæ ·åŒ–çš„èŒä¸šæœºä¼š**ï¼šé€šè¿‡å­¦ä¹ å¤§è¯­è¨€æ¨¡å‹ç›¸å…³å†…å®¹ï¼Œå­¦ç”Ÿå°†è·å¾—æ›´å¹¿æ³›çš„æŠ€èƒ½ï¼Œèƒ½å¤Ÿåœ¨æ•°æ®ç§‘å­¦ã€äººå·¥æ™ºèƒ½ã€è‡ªç„¶è¯­è¨€å¤„ç†ç­‰é¢†åŸŸæ‰¾åˆ°æ›´å¤šçš„èŒä¸šæœºä¼šï¼Œæ˜¾è‘—æé«˜ä»–ä»¬åœ¨èŒåœºä¸Šçš„æ ¸å¿ƒç«äº‰åŠ›ã€‚</span>
<span class="line"></span>
<span class="line">3. **æå‡åˆ›æ–°èƒ½åŠ›**ï¼šå¤§è¯­è¨€æ¨¡å‹æ˜¯å‰æ²¿æŠ€æœ¯ï¼Œå­¦ä¹ å®ƒä¸ä»…èƒ½å¢åŠ çŸ¥è¯†å‚¨å¤‡ï¼Œè¿˜èƒ½æ¿€å‘ç¨‹åºå‘˜ä»¬çš„åˆ›æ–°æ€ç»´ã€‚ä»–ä»¬å¯ä»¥æŠŠæ–°å­¦åˆ°çš„AIçŸ¥è¯†åº”ç”¨åˆ°ç°æœ‰é¡¹ç›®ä¸­ï¼Œç”šè‡³è®¾è®¡å‡ºæ›´å¤šè·¨è¶Šä¼ ç»Ÿè¾¹ç•Œçš„åº”ç”¨å’ŒæœåŠ¡ï¼Œæ¨åŠ¨æŠ€æœ¯è¿›æ­¥ã€‚</span>
<span class="line"></span>
<span class="line">4. **å®é™…é¡¹ç›®ç»éªŒ**ï¼šè¯¾ç¨‹è®¾è®¡ä¸­åŒ…å«é¡¹ç›®å®è·µç¯èŠ‚ï¼Œå­¦ç”Ÿèƒ½å¤Ÿåœ¨çœŸå®ç¯å¢ƒä¸­åº”ç”¨æ‰€å­¦çŸ¥è¯†ï¼Œç§¯ç´¯å®é™…é¡¹ç›®ç»éªŒã€‚è¿™ç§å®è·µå°†å¤§å¤§å¢å¼ºå­¦ä¹ æ•ˆæœï¼Œä½¿ä»–ä»¬æ›´æœ‰è‡ªä¿¡å¿ƒå»é¢å¯¹çœŸå®å·¥ä½œä¸­çš„AIä»»åŠ¡ã€‚</span>
<span class="line"></span>
<span class="line">5. **ç¤¾åŒºå’Œèµ„æºæ”¯æŒ**ï¼šä½œä¸ºè¯¾ç¨‹çš„ä¸€éƒ¨åˆ†ï¼Œå­¦å‘˜å¯ä»¥æ¥è§¦åˆ°å¤§é‡çš„å­¦ä¹ èµ„æºå’Œç¤¾åŒºæ”¯æŒï¼Œæ¯”å¦‚åœ¨çº¿è®ºå›ã€ç­”ç–‘ä¼šç­‰ã€‚è¿™ä¸ä»…èƒ½é™ä½å­¦ä¹ çš„é—¨æ§›ï¼Œè¿˜èƒ½ä¸ºä»–ä»¬æ‰¾åˆ°å¿—åŒé“åˆçš„ä¼™ä¼´ï¼Œå…±åŒè§£å†³å­¦ä¹ ä¸­é‡åˆ°çš„é—®é¢˜ï¼Œå¢å¼ºå½’å±æ„Ÿã€‚</span>
<span class="line"></span>
<span class="line">6. **çµæ´»çš„å­¦ä¹ æ¨¡å¼**ï¼šæˆ‘ä»¬å¯ä»¥è®¾è®¡å¤šç§çµæ´»çš„å­¦ä¹ æ¨¡å¼ï¼Œå¦‚çº¿ä¸Šè‡ªå­¦ã€ç›´æ’­è¯¾ç¨‹ã€äº’åŠ¨ç»ƒä¹ ç­‰ï¼Œä¾¿äºå­¦å‘˜æ ¹æ®è‡ªå·±çš„æ—¶é—´å®‰æ’é€‰æ‹©åˆé€‚çš„å­¦ä¹ æ–¹å¼ã€‚è¿™å°†å¤§å¤§æ–¹ä¾¿éå…¨èŒå­¦ä¹ è€…ï¼Œå¢åŠ è¯¾ç¨‹çš„æ™®é€‚æ€§å’Œå¸å¼•åŠ›ã€‚</span>
<span class="line"></span>
<span class="line">7. **è¡Œä¸šè®¤å¯åº¦**ï¼šè®¾è®¡æ—¶å……åˆ†è€ƒè™‘åˆ°å®é™…åº”ç”¨å’Œè¡Œä¸šéœ€æ±‚ï¼Œä½¿å¾—è¯¾ç¨‹å†…å®¹å…·æœ‰è¾ƒé«˜çš„è¡Œä¸šè®¤å¯åº¦ã€‚å®Œæˆè¯¾ç¨‹åï¼Œå­¦å‘˜å¯ä»¥å¾—åˆ°æ›´å…·å«é‡‘é‡çš„è¯ä¹¦æˆ–æ¨èä¿¡ï¼Œè¿™å°†æå‡ä»–ä»¬åœ¨æ±‚èŒå¸‚åœºä¸Šçš„ç«äº‰åŠ›ã€‚</span>
<span class="line"></span>
<span class="line">æ€»ä¹‹ï¼Œè¿™é—¨è¯¾ç¨‹æ­£å¥½è¿åˆäº†éAIèƒŒæ™¯ç¨‹åºå‘˜çš„éœ€æ±‚ï¼Œå¯ä»¥æœ‰æ•ˆå¸®åŠ©ä»–ä»¬è·¨è¶ŠAIé¢†åŸŸçš„å‡†å…¥é—¨æ§›ï¼Œä¸ºä»–ä»¬çš„èŒä¸šå‘å±•æä¾›æ–°çš„æœºä¼šå’Œå¯èƒ½æ€§ã€‚è¿™ä¸ä»…èƒ½å¤Ÿå¢åŠ ä»–ä»¬çš„æŠ€æœ¯å‚¨å¤‡å’Œé¡¹ç›®ç»éªŒï¼Œè¿˜èƒ½åœ¨èŒåœºä¸Šå¸¦æ¥æ›´å¤šçš„ç«äº‰ä¼˜åŠ¿ã€‚</span>
<span class="line"></span>
<span class="line">assistant &gt; å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯ç»¿è‰²å¸½å­ã€‚ç°åœ¨è®©æˆ‘æ¥è¿›è¡Œä¸€äº›åˆ›æ–°æ€§çš„æ€è€ƒï¼Œä»¥å¢åŠ è¿™é—¨è¯¾ç¨‹çš„å¸å¼•åŠ›å’Œæœ‰æ•ˆæ€§ã€‚</span>
<span class="line"></span>
<span class="line">1. **å¤šæ„Ÿå®˜å­¦ä¹ **ï¼šå¼•å…¥å¤šç§æ•™å­¦æ–¹æ³•ï¼Œå¦‚è§†é¢‘ã€åŠ¨ç”»ã€äº’åŠ¨å›¾è¡¨å’Œå®æ“ç»ƒä¹ ã€‚æˆ‘ä»¬å¯ä»¥åˆ©ç”¨VRæˆ–ARæŠ€æœ¯è¿›è¡Œæ²‰æµ¸å¼å­¦ä¹ ä½“éªŒï¼Œè®©å­¦å‘˜æ›´åŠ ç›´è§‚åœ°ç†è§£å¤æ‚æ¦‚å¿µã€‚</span>
<span class="line"></span>
<span class="line">2. **æ¨¡å—åŒ–å­¦ä¹ **ï¼šå°†è¯¾ç¨‹å†…å®¹è®¾è®¡æˆå¤šä¸ªç‹¬ç«‹çš„å°æ¨¡å—ï¼Œæ¯ä¸ªæ¨¡å—é’ˆå¯¹ä¸€ä¸ªå…·ä½“ä¸»é¢˜æˆ–æŠ€èƒ½ã€‚è¿™æ ·ï¼Œå­¦å‘˜å¯ä»¥æ ¹æ®è‡ªå·±çš„å…´è¶£å’Œéœ€æ±‚é€‰æ‹©å­¦ä¹ è·¯å¾„ï¼Œé€æ­¥æ·±å…¥ï¼Œä¸ä¼šæ„Ÿåˆ°è´Ÿæ‹…è¿‡é‡ã€‚</span>
<span class="line"></span>
<span class="line">3. **å®æ—¶åé¦ˆç³»ç»Ÿ**ï¼šåœ¨è¯¾ç¨‹ä¸­åŠ å…¥å³æ—¶åé¦ˆæœºåˆ¶ï¼Œå¦‚åœ¨ç¼–ç¨‹é¢˜ç›®ä¸­è‡ªåŠ¨è¯„åˆ†çš„ç³»ç»Ÿï¼Œå¸®åŠ©å­¦å‘˜åŠæ—¶å‘ç°å’Œçº æ­£é”™è¯¯ï¼Œå¢å¼ºå­¦ä¹ æ•ˆæœã€‚</span>
<span class="line"></span>
<span class="line">4. **æ¡ˆä¾‹é©±åŠ¨æ•™å­¦**ï¼šä½¿ç”¨å®é™…æ¡ˆä¾‹é©±åŠ¨æ•™å­¦ï¼Œå°†ç†è®ºçŸ¥è¯†ä¸ç°å®åº”ç”¨ç´§å¯†ç»“åˆã€‚æ¯”å¦‚ï¼Œé€šè¿‡å…·ä½“çš„è¡Œä¸šæ¡ˆä¾‹ï¼ˆå¦‚åŒ»ç–—ã€é‡‘èã€è‡ªåŠ¨é©¾é©¶ç­‰ï¼‰å±•ç¤ºå¤§è¯­è¨€æ¨¡å‹çš„åº”ç”¨ï¼Œä½¿å­¦å‘˜äº†è§£å…¶ç°å®ä»·å€¼ã€‚</span>
<span class="line"></span>
<span class="line">5. **è·¨å­¦ç§‘åˆä½œ**ï¼šé¼“åŠ±å­¦å‘˜ç»„æˆè·¨å­¦ç§‘å›¢é˜Ÿï¼Œå…±åŒå®Œæˆé¡¹ç›®ï¼Œå¯ä»¥æ˜¯æ•°æ®ç§‘å­¦ã€äº§å“è®¾è®¡ã€ä¸šåŠ¡åˆ†æç­‰ä¸åŒèƒŒæ™¯çš„äººä¸€èµ·åˆä½œï¼Œä»å¤šè§’åº¦ä¸°å¯Œå¯¹é—®é¢˜çš„ç†è§£å’Œè§£å†³æ–¹æ¡ˆçš„è®¾è®¡ã€‚</span>
<span class="line"></span>
<span class="line">6. **çµæ´»çš„å¯¼å¸ˆåˆ¶åº¦**ï¼šå¼•å…¥ä¸šç•Œä¸“å®¶å’Œå­¦æœ¯å¯¼å¸ˆï¼Œå®šæœŸä¸¾è¡Œçº¿ä¸Šæˆ–çº¿ä¸‹è®²åº§ã€ç­”ç–‘å’Œä¸€å¯¹ä¸€è¾…å¯¼ï¼Œæå‡å­¦å‘˜çš„å­¦ä¹ ä½“éªŒå’ŒçŸ¥è¯†æ·±åº¦ã€‚</span>
<span class="line"></span>
<span class="line">7. **AIå·¥å…·ç®±**ï¼šä¸ºå­¦å‘˜æä¾›ä¸€ä¸ªâ€œAIå·¥å…·ç®±â€ï¼Œå…¶ä¸­åŒ…æ‹¬å¸¸ç”¨çš„å¼€æºä»£ç ã€å·¥å…·åº“ã€æ•°æ®é›†å’Œæ•™ç¨‹æ–‡æ¡£ï¼Œè®©å­¦å‘˜åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­æœ‰å®ç”¨çš„èµ„æºå¯ä»¥åˆ©ç”¨ï¼Œæé«˜è‡ªä¸»è§£å†³é—®é¢˜çš„èƒ½åŠ›ã€‚</span>
<span class="line"></span>
<span class="line">8. **æ¯”èµ›å’ŒæŒ‘æˆ˜**ï¼šè®¾å®šä¸€äº›å°å‹ç¼–ç¨‹æ¯”èµ›ã€é»‘å®¢é©¬æ‹‰æ¾æˆ–é¡¹ç›®æŒ‘æˆ˜ï¼Œæ¿€å‘å­¦å‘˜çš„ç«äº‰æ„è¯†å’Œå›¢é˜Ÿåˆä½œç²¾ç¥ï¼Œå¹¶é€šè¿‡å¥–åŠ±æœºåˆ¶é¼“åŠ±ä»–ä»¬ä¸»åŠ¨å­¦ä¹ å’Œåˆ›æ–°ã€‚</span>
<span class="line"></span>
<span class="line">9. **æŒç»­å­¦ä¹ é€šé“**ï¼šè¯¾ç¨‹ç»“æŸåï¼Œä¸ºå­¦å‘˜æä¾›ç»§ç»­å­¦ä¹ çš„èµ„æºå’Œç¤¾ç¾¤æ”¯æŒï¼Œè®©ä»–ä»¬å¯ä»¥åœ¨è¯¾ç¨‹ä¹‹å¤–ä¿æŒå¯¹AIé¢†åŸŸçš„æŒç»­å…³æ³¨å’Œç ”ç©¶ã€‚æ¯”å¦‚ï¼Œå»ºç«‹æ ¡å‹ç½‘ç»œã€å¾®ä¿¡ç¾¤æˆ–æ¨å‡ºè½¯ä»¶æ›´æ–°é€šçŸ¥ç­‰ã€‚</span>
<span class="line"></span>
<span class="line">10. **ä¸ªæ€§åŒ–å­¦ä¹ è·¯å¾„**ï¼šé€šè¿‡æ•°æ®åˆ†æå’Œæœºå™¨å­¦ä¹ ç®—æ³•ï¼Œè¯†åˆ«æ¯ä½å­¦å‘˜çš„å­¦ä¹ åå¥½å’Œè–„å¼±ç¯èŠ‚ï¼ŒåŠ¨æ€è°ƒæ•´å­¦ä¹ å†…å®¹å’Œéš¾åº¦ï¼Œä½¿å…¶ä¸ªæ€§åŒ–å­¦ä¹ ä½“éªŒæœ€å¤§åŒ–ã€‚</span>
<span class="line"></span>
<span class="line">é€šè¿‡è¿™äº›åˆ›æ–°æªæ–½ï¼Œæˆ‘ä»¬ä¸ä»…èƒ½æé«˜å­¦å‘˜çš„å­¦ä¹ å…´è¶£å’Œæ•ˆæœï¼Œè¿˜èƒ½è®©ä»–ä»¬åœ¨çŸ­æ—¶é—´å†…è·å¾—é«˜æ•ˆä¸”ç³»ç»Ÿçš„AIå¤§è¯­è¨€æ¨¡å‹çŸ¥è¯†å’ŒæŠ€èƒ½ï¼Œä¸ºæœªæ¥çš„èŒä¸šå‘å±•æ‰“ä¸‹åšå®çš„åŸºç¡€ã€‚</span>
<span class="line"></span>
<span class="line">assistant &gt; æœ€åï¼Œå¤§å®¶å¥½ï¼Œå›åˆ°æˆ‘è“è‰²å¸½å­çš„è§’è‰²ã€‚æˆ‘ä»¬åœ¨æ•´ä¸ªè®¨è®ºè¿‡ç¨‹ä¸­ï¼Œåˆ†åˆ«ä»æ•°æ®ä¸äº‹å®ã€æƒ…æ„Ÿä¸ç›´è§‰ã€æ½œåœ¨é—®é¢˜å’ŒæŒ‘æˆ˜ä»¥åŠæ–°çš„å¯èƒ½æ€§ç­‰è§’åº¦å¯¹å¦‚ä½•è®¾è®¡é¢å‘éAIèƒŒæ™¯çš„ç¨‹åºå‘˜çš„å¤§è¯­è¨€æ¨¡å‹è¯¾ç¨‹è¿›è¡Œäº†æ·±å…¥æ¢è®¨ã€‚</span>
<span class="line"></span>
<span class="line">### æ€»ç»“ä¸ä¸‹ä¸€æ­¥è¡ŒåŠ¨</span>
<span class="line"></span>
<span class="line">1. **è¯¾ç¨‹å†…å®¹ç»“æ„ï¼ˆç™½è‰²å¸½å­ï¼‰**ï¼š</span>
<span class="line">    - **åŸºç¡€æ¦‚å¿µ**ï¼šAIå’Œå¤§è¯­è¨€æ¨¡å‹çš„åˆæ­¥ä»‹ç»ã€‚</span>
<span class="line">    - **å·¥å…·æŠ€æœ¯**ï¼šPythonã€TensorFlowã€PyTorchç­‰å®ç”¨å·¥å…·å’Œæ¡†æ¶ã€‚</span>
<span class="line">    - **æ•°æ®å¤„ç†**ï¼šæ•°æ®æ¸…æ´—ã€æ ‡æ³¨ç­‰åŸºæœ¬æŠ€èƒ½ã€‚</span>
<span class="line">    - **æ¨¡å‹è®­ç»ƒ**ï¼šä»å¤´æ­å»ºã€è®­ç»ƒå’Œè¯„ä¼°æ¨¡å‹ã€‚</span>
<span class="line">    - **åº”ç”¨åœºæ™¯**ï¼šå®é™…æ¡ˆä¾‹å±•ç¤ºå¤§è¯­è¨€æ¨¡å‹çš„å®é™…åº”ç”¨ã€‚</span>
<span class="line">    - **é¡¹ç›®å®è·µ**ï¼šä»ç»†åˆ°éš¾çš„é¡¹ç›®å®æˆ˜ä½“éªŒã€‚</span>
<span class="line"></span>
<span class="line">2. **æƒ…æ„Ÿä¸å­¦å‘˜ä½“éªŒï¼ˆçº¢è‰²å¸½å­ï¼‰**ï¼š</span>
<span class="line">    - å°½é‡è®¾è®¡è¯¾ç¨‹å†…å®¹æœ‰è¶£äº’åŠ¨ï¼Œå¢å¼ºå­¦å‘˜çš„å­¦ä¹ å…´è¶£ã€‚</span>
<span class="line">    - æä¾›æŒç»­çš„æ”¯æŒå’Œåé¦ˆæœºåˆ¶ï¼Œè§£ç­”å­¦ä¹ è¿‡ç¨‹ä¸­é‡åˆ°çš„å›°éš¾ã€‚</span>
<span class="line">    - é€šè¿‡å®é™…åº”ç”¨é¡¹ç›®æå‡å­¦å‘˜çš„è‡ªä¿¡å¿ƒï¼Œç»™äºˆæ­£å‘åé¦ˆã€‚</span>
<span class="line"></span>
<span class="line">3. **æ½œåœ¨æŒ‘æˆ˜ï¼ˆé»‘è‰²å¸½å­ï¼‰**ï¼š</span>
<span class="line">    - å­¦å‘˜èƒŒæ™¯å·®å¼‚å¤§ï¼Œéœ€è¦å¹³è¡¡è¯¾ç¨‹éš¾åº¦ã€‚</span>
<span class="line">    - æ—¶é—´ä¸ç²¾åŠ›æŠ•å…¥å¯èƒ½ä¸è¶³ï¼Œéœ€ä¼˜åŒ–å­¦ä¹ æ—¶é—´ã€‚</span>
<span class="line">    - å®é™…æ“ä½œéš¾åº¦é«˜ï¼Œå®è·µä¸­å¯èƒ½é‡åˆ°ç¡¬ä»¶å’Œè½¯ä»¶çš„é™åˆ¶ã€‚</span>
<span class="line">    - å­¦å‘˜åœ¨æœªæ¥çš„å®é™…å·¥ä½œä¸­åº”ç”¨è¿™äº›çŸ¥è¯†çš„å¯è¡Œæ€§ã€‚</span>
<span class="line"></span>
<span class="line">4. **åˆ›æ–°ä¸æå‡ç‚¹ï¼ˆç»¿è‰²å¸½å­ï¼‰**ï¼š</span>
<span class="line">    - **å¤šæ„Ÿå®˜å’Œæ¨¡å—åŒ–å­¦ä¹ **ï¼šä¸°å¯Œå­¦ä¹ ä½“éªŒï¼Œç¬¦åˆä¸åŒå­¦ä¹ éœ€æ±‚ã€‚</span>
<span class="line">    - **å³æ—¶åé¦ˆ**ï¼šå¸®åŠ©å­¦å‘˜è¿…é€Ÿç†è§£å’ŒæŒæ¡çŸ¥è¯†ç‚¹ã€‚</span>
<span class="line">    - **æ¡ˆä¾‹é©±åŠ¨æ•™å­¦**ï¼šé€šè¿‡ç°å®æ¡ˆä¾‹å¼ºè°ƒè¯¾ç¨‹å†…å®¹çš„å®é™…åº”ç”¨ä»·å€¼ã€‚</span>
<span class="line">    - **è·¨å­¦ç§‘åˆä½œ**ï¼šé¼“åŠ±å¤šèƒŒæ™¯å­¦å‘˜ç»„é˜Ÿå®Œæˆé¡¹ç›®ï¼Œæå‡ç»¼åˆèƒ½åŠ›ã€‚</span>
<span class="line">    - **å¯¼å¸ˆåˆ¶åº¦å’ŒAIå·¥å…·ç®±**ï¼šæä¾›å¼ºæœ‰åŠ›çš„å­¦ä¹ èµ„æºå’Œæ”¯æŒã€‚</span>
<span class="line">    - **æ¯”èµ›å’ŒæŒ‘æˆ˜**ï¼šé€šè¿‡ç«èµ›æ¿€å‘å­¦å‘˜ä¸»åŠ¨æ€§å’Œå›¢é˜Ÿåˆä½œç²¾ç¥ã€‚</span>
<span class="line">    - **ä¸ªæ€§åŒ–å­¦ä¹ è·¯å¾„**ï¼šè®©å­¦ä¹ æ›´åŠ ä¸ªæ€§åŒ–ã€é«˜æ•ˆåŒ–ã€‚</span>
<span class="line"></span>
<span class="line">### ä¸‹ä¸€æ­¥è¡ŒåŠ¨</span>
<span class="line">- **å…·ä½“åŒ–è¯¾ç¨‹æ¡†æ¶**ï¼šæ•´åˆå„å¸½å­è§‚ç‚¹ï¼Œå…·ä½“åŒ–è¯¾ç¨‹å†…å®¹å’Œå®‰æ’ï¼Œå½¢æˆä¸€ä¸ªè¾ƒä¸ºå®Œæ•´çš„è¯¾ç¨‹å¤§çº²ã€‚</span>
<span class="line">- **è¯•ç‚¹æµ‹è¯•**ï¼šåœ¨å°èŒƒå›´å†…è¿›è¡Œè¯¾ç¨‹è¯•ç‚¹ï¼Œæ”¶é›†åé¦ˆå¹¶è¿›è¡Œä¼˜åŒ–è°ƒæ•´ã€‚</span>
<span class="line">- **æŒç»­åé¦ˆä¸è¿­ä»£**ï¼šæ ¹æ®å­¦å‘˜çš„åé¦ˆå’Œå­¦ä¹ æ•ˆæœï¼Œå®šæœŸè¿­ä»£å’Œæ›´æ–°è¯¾ç¨‹å†…å®¹ï¼Œç¡®ä¿è¯¾ç¨‹å§‹ç»ˆå…·æœ‰å‰æ²¿æ€§å’Œå®ç”¨æ€§ã€‚</span>
<span class="line"></span>
<span class="line">å¸Œæœ›é€šè¿‡æ­¤æ¬¡è®¨è®ºï¼Œèƒ½å¤Ÿè®¾è®¡å‡ºä¸€é—¨æ—¢å®ç”¨åˆå…·å¸å¼•åŠ›çš„AIå¤§è¯­è¨€æ¨¡å‹è¯¾ç¨‹ï¼ŒçœŸæ­£å¸®åŠ©éAIèƒŒæ™¯çš„ç¨‹åºå‘˜æœ‹å‹ä»¬æŒæ¡è¿™é—¨å‰æ²¿æŠ€æœ¯ï¼Œä¸ºä»–ä»¬çš„èŒä¸šå‘å±•æä¾›æ–°çš„åŠ¨åŠ›å’Œå¯èƒ½æ€§ã€‚è°¢è°¢å¤§å®¶çš„å‚ä¸ä¸è´¡çŒ®ï¼</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line"><span class="token comment"># æ¸…ç†å®éªŒç¯å¢ƒ</span></span>
<span class="line"><span class="token keyword">for</span> _<span class="token punctuation">,</span> assistant <span class="token keyword">in</span> existing_assistants<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    client<span class="token punctuation">.</span>beta<span class="token punctuation">.</span>assistants<span class="token punctuation">.</span>delete<span class="token punctuation">(</span>assistant<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#æ€»ç»“"><span>æ€»ç»“</span></a></h2><p><img src="https://cdn.openai.com/API/docs/images/diagram-assistant.webp" alt=""></p><h2 id="æŠ€æœ¯é€‰å‹å‚è€ƒ" tabindex="-1"><a class="header-anchor" href="#æŠ€æœ¯é€‰å‹å‚è€ƒ"><span>æŠ€æœ¯é€‰å‹å‚è€ƒ</span></a></h2><p><strong>GPTs ç°çŠ¶ï¼š</strong></p><ol><li>ç•Œé¢ä¸å¯å®šåˆ¶ï¼Œä¸èƒ½é›†æˆè¿›è‡ªå·±çš„äº§å“</li><li>åªæœ‰ ChatGPT Plus/Team/Enterprise ç”¨æˆ·æ‰èƒ½è®¿é—®</li><li>æœªæ¥å¼€å‘è€…å¯ä»¥æ ¹æ®ä½¿ç”¨é‡è·å¾—æŠ¥é…¬ï¼ŒåŒ—ç¾å…ˆå¼€å§‹</li><li>æ‰¿è¯ºä¼šæ¨å‡º Team/Enterprise ç‰ˆçš„ç»„ç»‡å†…éƒ¨ä¸“å± GPTs</li></ol><p><strong>é€‚åˆä½¿ç”¨ Assistants API çš„åœºæ™¯ï¼š</strong></p><ol><li>å®šåˆ¶ç•Œé¢ï¼Œæˆ–å’Œè‡ªå·±çš„äº§å“é›†æˆ</li><li>éœ€è¦ä¼ å¤§é‡æ–‡ä»¶</li><li>æœåŠ¡å›½å¤–ç”¨æˆ·ï¼Œæˆ–å›½å†… B ç«¯å®¢æˆ·</li><li>æ•°æ®ä¿å¯†æ€§è¦æ±‚ä¸é«˜</li><li>ä¸å·®é’±</li></ol><p><strong>é€‚åˆä½¿ç”¨åŸç”Ÿ API çš„åœºæ™¯ï¼š</strong></p><ol><li>éœ€è¦æè‡´è°ƒä¼˜</li><li>è¿½æ±‚æ€§ä»·æ¯”</li><li>æœåŠ¡å›½å¤–ç”¨æˆ·ï¼Œæˆ–å›½å†… B ç«¯å®¢æˆ·</li><li>æ•°æ®ä¿å¯†æ€§è¦æ±‚ä¸é«˜</li></ol><p><strong>é€‚åˆä½¿ç”¨å›½äº§æˆ–å¼€æºå¤§æ¨¡å‹çš„åœºæ™¯ï¼š</strong></p><ol><li>æœåŠ¡å›½å†…ç”¨æˆ·</li><li>æ•°æ®ä¿å¯†æ€§è¦æ±‚é«˜</li><li>å‹ç¼©é•¿æœŸæˆæœ¬</li><li>éœ€è¦æè‡´è°ƒä¼˜</li></ol><h3 id="æä¾›ç±»ä¼¼-assistants-api-çš„å›½äº§æ¨¡å‹" tabindex="-1"><a class="header-anchor" href="#æä¾›ç±»ä¼¼-assistants-api-çš„å›½äº§æ¨¡å‹"><span>æä¾›ç±»ä¼¼ Assistants API çš„å›½äº§æ¨¡å‹ï¼š</span></a></h3><ul><li>ç™¾å·ï¼šhttps://platform.baichuan-ai.com/docs/assistants-overview</li><li>Minimaxï¼šhttps://platform.minimaxi.com/document/lbYEaWKRCr5f7EVikjFJjSDK?key=6671906aa427f0c8a570166b</li><li>æ™ºè°± GLM-4-AllToolsï¼šhttps://open.bigmodel.cn/dev/api#glm-4-alltools</li><li>è®¯é£æ˜Ÿç«åŠ©æ‰‹ï¼šhttps://www.xfyun.cn/doc/spark/SparkAssistantAPI.html</li><li>é˜¿é‡Œé€šä¹‰åƒé—®ï¼šhttps://help.aliyun.com/zh/model-studio/developer-reference/overview</li></ul><h2 id="è¯¾é—´çš„æ€è€ƒé¢˜" tabindex="-1"><a class="header-anchor" href="#è¯¾é—´çš„æ€è€ƒé¢˜"><span>è¯¾é—´çš„æ€è€ƒé¢˜</span></a></h2><blockquote><p>â„¹ï¸ <strong>Info:</strong> æ€è€ƒï¼š è¿›ä¸€æ­¥ç†è§£ run ä¸ thread çš„è®¾è®¡</p></blockquote><pre><code>æŠ›å¼€ Assistants APIï¼Œå‡è®¾ä½ è¦å¼€å‘ä»»æ„ä¸€ä¸ªå¤šè½®å¯¹è¯çš„ AI æœºå™¨äºº
ä»æ¶æ„è®¾è®¡çš„è§’åº¦ï¼Œåº”è¯¥æ€ä¹ˆç»´æŠ¤ç”¨æˆ·ã€å¯¹è¯å†å²ã€å¯¹è¯å¼•æ“ã€å¯¹è¯æœåŠ¡ï¼Ÿ
</code></pre><p><img src="/wiki/assets/img/dialog_system.40f17e20.png" alt="image"></p><h2 id="å…¶å®ƒ" tabindex="-1"><a class="header-anchor" href="#å…¶å®ƒ"><span>å…¶å®ƒ</span></a></h2><p>å°çŸ¥è¯†ç‚¹ï¼š</p><ol><li>Annotations è·å–å‚è€ƒèµ„æ–™åœ°å€ï¼šhttps://platform.openai.com/docs/assistants/how-it-works/message-annotations</li><li>åˆ›å»º thread æ—¶ç«‹å³æ‰§è¡Œï¼šhttps://platform.openai.com/docs/api-reference/runs/createThreadAndRun</li><li>Run çš„çŠ¶æ€ç®¡ç† (run stepsï¼‰: https://platform.openai.com/docs/api-reference/run-steps</li></ol><p>å®˜æ–¹æ–‡æ¡£ï¼š</p><ol><li>Guide: https://platform.openai.com/docs/assistants/overview</li><li>API Reference: https://platform.openai.com/docs/api-reference/assistants</li></ol><h2 id="ä½œä¸š" tabindex="-1"><a class="header-anchor" href="#ä½œä¸š"><span>ä½œä¸š</span></a></h2><p>å®ç°ä¸€ä¸ªè‡ªå·± GPT æˆ– Assistantã€‚</p></div><!--[--><!--]--></div><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><!----><!----></div></footer><!----><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script src="/wiki/assets/js/runtime~app.1ce3f5ec.js" defer></script><script src="/wiki/assets/js/768.e6d4205d.js" defer></script><script src="/wiki/assets/js/app.0403b510.js" defer></script>
  </body>
</html>
